var m=t=>{throw TypeError(t)};var g=(t,e,r)=>e.has(t)||m("Cannot "+r);var p=(t,e,r)=>(g(t,e,"read from private field"),r?r.call(t):e.get(t)),d=(t,e,r)=>e.has(t)?m("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),b=(t,e,r,n)=>(g(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r);import{s as B,b as E,k as W,g as x,h as j,I as P,u as T,q as _}from"./DP-BcMQ1.js";import{o as h}from"./DS5rcHSR.js";import{e as O}from"./qgAFKjXL.js";function F(t){return typeof t=="function"}function I(t){return t!==null&&typeof t=="object"}const R=["string","number","bigint","boolean"];function $(t){return t==null||R.includes(typeof t)?!0:Array.isArray(t)?t.every(e=>$(e)):typeof t=="object"?Object.getPrototypeOf(t)===Object.prototype:!1}const s=Symbol("box"),y=Symbol("is-writable");function k(t){return I(t)&&s in t}function C(t){return o.isBox(t)&&y in t}function o(t){let e=B(E(t));return{[s]:!0,[y]:!0,get current(){return x(e)},set current(r){W(e,r,!0)}}}function V(t,e){const r=j(t);return e?{[s]:!0,[y]:!0,get current(){return x(r)},set current(n){e(n)}}:{[s]:!0,get current(){return t()}}}function L(t){return o.isBox(t)?t:F(t)?o.with(t):o(t)}function q(t){return Object.entries(t).reduce((e,[r,n])=>o.isBox(n)?(o.isWritableBox(n)?Object.defineProperty(e,r,{get(){return n.current},set(i){n.current=i}}):Object.defineProperty(e,r,{get(){return n.current}}),e):Object.assign(e,{[r]:n}),{})}function z(t){return o.isWritableBox(t)?{[s]:!0,get current(){return t.current}}:t}o.from=L;o.with=V;o.flatten=q;o.readonly=z;o.isBox=k;o.isWritableBox=C;function K(t,e){const r=RegExp(t,"g");return n=>{if(typeof n!="string")throw new TypeError(`expected an argument of type string, but got ${typeof n}`);return n.match(r)?n.replace(r,e):n}}const M=K(/[A-Z]/,t=>`-${t.toLowerCase()}`);function U(t){if(!t||typeof t!="object"||Array.isArray(t))throw new TypeError(`expected an argument of type object, but got ${typeof t}`);return Object.keys(t).map(e=>`${M(e)}: ${t[e]};`).join(`
`)}function X(t={}){return U(t).replace(`
`," ")}const Y={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",transform:"translateX(-100%)"};X(Y);const Z=typeof window<"u"?window:void 0;function D(t){let e=t.activeElement;for(;e!=null&&e.shadowRoot;){const r=e.shadowRoot.activeElement;if(r===e)break;e=r}return e}var u,f;class G{constructor(e={}){d(this,u);d(this,f);const{window:r=Z,document:n=r==null?void 0:r.document}=e;r!==void 0&&(b(this,u,n),b(this,f,O(i=>{const a=h(r,"focusin",i),c=h(r,"focusout",i);return()=>{a(),c()}})))}get current(){var e;return(e=p(this,f))==null||e.call(this),p(this,u)?D(p(this,u)):null}}u=new WeakMap,f=new WeakMap;new G;function H(t,e){switch(t){case"post":T(e);break;case"pre":P(e);break}}function w(t,e,r,n={}){const{lazy:i=!1}=n;let a=!i,c=Array.isArray(t)?[]:void 0;H(e,()=>{const l=Array.isArray(t)?t.map(S=>S()):t();if(!a){a=!0,c=l;return}const A=_(()=>r(l,c));return c=l,A})}function J(t,e,r){w(t,"post",e,r)}function N(t,e,r){w(t,"pre",e,r)}J.pre=N;export{o as b,$ as i,X as s,J as w};
