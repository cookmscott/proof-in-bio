var mt=Object.defineProperty;var it=e=>{throw TypeError(e)};var gt=(e,t,r)=>t in e?mt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var i=(e,t,r)=>gt(e,typeof t!="symbol"?t+"":t,r),at=(e,t,r)=>t.has(e)||it("Cannot "+r);var u=(e,t,r)=>(at(e,t,"read from private field"),r?r.call(e):t.get(e)),b=(e,t,r)=>t.has(e)?it("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),L=(e,t,r,n)=>(at(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r);import{p as H,c as S,a as p,f as X}from"./BB7QTiE6.js";import{ay as vt,az as ct,aA as wt,X as _,P as l,a8 as O,p as C,f as E,d as T,e as ut,n as lt,r as ft}from"./bLuVGfqa.js";import{c as F}from"./BZ_ZxHdj.js";import{p as d,i as J,r as N,s as K}from"./D0IIkyx3.js";import{a as Q,b as Y}from"./exS42VTx.js";import{s as k}from"./Cbg4zGnc.js";import{i as z,d as w,a as Z,c as pt,w as yt,b as $,m as tt}from"./j5YWbqYB.js";import{c as _t}from"./DAsnY7g7.js";var M,x;class xt{constructor(t){b(this,M);b(this,x);L(this,M,t),L(this,x,Symbol(t))}get key(){return u(this,x)}exists(){return vt(u(this,x))}get(){const t=ct(u(this,x));if(t===void 0)throw new Error(`Context "${u(this,M)}" not found`);return t}getOr(t){const r=ct(u(this,x));return r===void 0?t:r}set(t){return wt(u(this,x),t)}}M=new WeakMap,x=new WeakMap;const St=1,Et=9,bt=11;function B(e){return z(e)&&e.nodeType===St&&typeof e.nodeName=="string"}function dt(e){return z(e)&&e.nodeType===Et}function At(e){var t;return z(e)&&((t=e.constructor)==null?void 0:t.name)==="VisualViewport"}function Ct(e){return z(e)&&e.nodeType!==void 0}function ht(e){return Ct(e)&&e.nodeType===bt&&"host"in e}function Xt(e,t){var n;if(!e||!t||!B(e)||!B(t))return!1;const r=(n=t.getRootNode)==null?void 0:n.call(t);if(e===t||e.contains(t))return!0;if(r&&ht(r)){let s=t;for(;s;){if(e===s)return!0;s=s.parentNode||s.host}}return!1}function Tt(e){return dt(e)?e:At(e)?e.document:(e==null?void 0:e.ownerDocument)??document}function Nt(e){var t;return ht(e)?Nt(e.host):dt(e)?e.defaultView??window:B(e)?((t=e.ownerDocument)==null?void 0:t.defaultView)??window:window}function Pt(e){let t=e.activeElement;for(;t!=null&&t.shadowRoot;){const r=t.shadowRoot.activeElement;if(r===t)break;t=r}return t}var I;class Dt{constructor(t){i(this,"element");b(this,I,_(()=>this.element.current?this.element.current.getRootNode()??document:document));i(this,"getDocument",()=>Tt(this.root));i(this,"getWindow",()=>this.getDocument().defaultView??window);i(this,"getActiveElement",()=>Pt(this.root));i(this,"isActiveElement",t=>t===this.getActiveElement());i(this,"querySelector",t=>this.root?this.root.querySelector(t):null);i(this,"querySelectorAll",t=>this.root?this.root.querySelectorAll(t):[]);i(this,"setTimeout",(t,r)=>this.getWindow().setTimeout(t,r));i(this,"clearTimeout",t=>this.getWindow().clearTimeout(t));typeof t=="function"?this.element=w.with(t):this.element=t}get root(){return l(u(this,I))}set root(t){O(u(this,I),t)}getElementById(t){return this.root.getElementById(t)}}I=new WeakMap;const et=pt({component:"avatar",parts:["root","image","fallback"]}),rt=new xt("Avatar.Root");var R;const st=class st{constructor(t){i(this,"opts");i(this,"domContext");i(this,"attachment");b(this,R,_(()=>({id:this.opts.id.current,[et.root]:"","data-status":this.opts.loadingStatus.current,...this.attachment})));this.opts=t,this.domContext=new Dt(this.opts.ref),this.loadImage=this.loadImage.bind(this),this.attachment=Z(this.opts.ref)}static create(t){return rt.set(new st(t))}loadImage(t,r,n){if(this.opts.loadingStatus.current==="loaded")return;let s;const a=new Image;return a.src=t,r!==void 0&&(a.crossOrigin=r),n&&(a.referrerPolicy=n),this.opts.loadingStatus.current="loading",a.onload=()=>{s=this.domContext.setTimeout(()=>{this.opts.loadingStatus.current="loaded"},this.opts.delayMs.current)},a.onerror=()=>{this.opts.loadingStatus.current="error"},()=>{s&&this.domContext.clearTimeout(s)}}get props(){return l(u(this,R))}set props(t){O(u(this,R),t)}};R=new WeakMap;let j=st;var q;const ot=class ot{constructor(t,r){i(this,"opts");i(this,"root");i(this,"attachment");b(this,q,_(()=>({id:this.opts.id.current,style:{display:this.root.opts.loadingStatus.current==="loaded"?"block":"none"},"data-status":this.root.opts.loadingStatus.current,[et.image]:"",src:this.opts.src.current,crossorigin:this.opts.crossOrigin.current,referrerpolicy:this.opts.referrerPolicy.current,...this.attachment})));this.opts=t,this.root=r,this.attachment=Z(this.opts.ref),yt.pre([()=>this.opts.src.current,()=>this.opts.crossOrigin.current],([n,s])=>{if(!n){this.root.opts.loadingStatus.current="error";return}this.root.loadImage(n,s,this.opts.referrerPolicy.current)})}static create(t){return new ot(t,rt.get())}get props(){return l(u(this,q))}set props(t){O(u(this,q),t)}};q=new WeakMap;let U=ot;var V,W;const nt=class nt{constructor(t,r){i(this,"opts");i(this,"root");i(this,"attachment");b(this,V,_(()=>this.root.opts.loadingStatus.current==="loaded"?{display:"none"}:void 0));b(this,W,_(()=>({style:this.style,"data-status":this.root.opts.loadingStatus.current,[et.fallback]:"",...this.attachment})));this.opts=t,this.root=r,this.attachment=Z(this.opts.ref)}static create(t){return new nt(t,rt.get())}get style(){return l(u(this,V))}set style(t){O(u(this,V),t)}get props(){return l(u(this,W))}set props(t){O(u(this,W),t)}};V=new WeakMap,W=new WeakMap;let G=nt;var Ot=X("<div><!></div>");function kt(e,t){const r=H();C(t,!0);let n=d(t,"delayMs",3,0),s=d(t,"loadingStatus",15,"loading"),a=d(t,"id",19,()=>$(r)),h=d(t,"ref",15,null),m=N(t,["$$slots","$$events","$$legacy","delayMs","loadingStatus","onLoadingStatusChange","child","children","id","ref"]);const g=j.create({delayMs:w.with(()=>n()),loadingStatus:w.with(()=>s(),o=>{var c;s()!==o&&(s(o),(c=t.onLoadingStatusChange)==null||c.call(t,o))}),id:w.with(()=>a()),ref:w.with(()=>h(),o=>h(o))}),f=_(()=>tt(m,g.props));var A=S(),P=E(A);{var v=o=>{var c=S(),D=E(c);k(D,()=>t.child,()=>({props:l(f)})),p(o,c)},y=o=>{var c=Ot();Q(c,()=>({...l(f)}));var D=ut(c);k(D,()=>t.children??lt),ft(c),p(o,c)};J(P,o=>{t.child?o(v):o(y,!1)})}p(e,A),T()}var Mt=X("<img/>");function It(e,t){const r=H();C(t,!0);let n=d(t,"id",19,()=>$(r)),s=d(t,"ref",15,null),a=d(t,"crossorigin",3,void 0),h=d(t,"referrerpolicy",3,void 0),m=N(t,["$$slots","$$events","$$legacy","src","child","id","ref","crossorigin","referrerpolicy"]);const g=U.create({src:w.with(()=>t.src),id:w.with(()=>n()),ref:w.with(()=>s(),o=>s(o)),crossOrigin:w.with(()=>a()),referrerPolicy:w.with(()=>h())}),f=_(()=>tt(m,g.props));var A=S(),P=E(A);{var v=o=>{var c=S(),D=E(c);k(D,()=>t.child,()=>({props:l(f)})),p(o,c)},y=o=>{var c=Mt();Q(c,()=>({...l(f),src:t.src})),_t(c),p(o,c)};J(P,o=>{t.child?o(v):o(y,!1)})}p(e,A),T()}var Rt=X("<span><!></span>");function qt(e,t){const r=H();C(t,!0);let n=d(t,"id",19,()=>$(r)),s=d(t,"ref",15,null),a=N(t,["$$slots","$$events","$$legacy","children","child","id","ref"]);const h=G.create({id:w.with(()=>n()),ref:w.with(()=>s(),v=>s(v))}),m=_(()=>tt(a,h.props));var g=S(),f=E(g);{var A=v=>{var y=S(),o=E(y);k(o,()=>t.child,()=>({props:l(m)})),p(v,y)},P=v=>{var y=Rt();Q(y,()=>({...l(m)}));var o=ut(y);k(o,()=>t.children??lt),ft(y),p(v,y)};J(f,v=>{t.child?v(A):v(P,!1)})}p(e,g),T()}function Ft(e,t){C(t,!0);let r=d(t,"ref",15,null),n=N(t,["$$slots","$$events","$$legacy","ref","class"]);var s=S(),a=E(s);const h=_(()=>Y("relative flex size-8 shrink-0 overflow-hidden rounded-full",t.class));F(a,()=>kt,(m,g)=>{g(m,K({"data-slot":"avatar",get class(){return l(h)}},()=>n,{get ref(){return r()},set ref(f){r(f)}}))}),p(e,s),T()}function Jt(e,t){C(t,!0);let r=d(t,"ref",15,null),n=N(t,["$$slots","$$events","$$legacy","ref","class"]);var s=S(),a=E(s);const h=_(()=>Y("aspect-square size-full",t.class));F(a,()=>It,(m,g)=>{g(m,K({"data-slot":"avatar-image",get class(){return l(h)}},()=>n,{get ref(){return r()},set ref(f){r(f)}}))}),p(e,s),T()}function Kt(e,t){C(t,!0);let r=d(t,"ref",15,null),n=N(t,["$$slots","$$events","$$legacy","ref","class"]);var s=S(),a=E(s);const h=_(()=>Y("bg-muted flex size-full items-center justify-center rounded-full",t.class));F(a,()=>qt,(m,g)=>{g(m,K({"data-slot":"avatar-fallback",get class(){return l(h)}},()=>n,{get ref(){return r()},set ref(f){r(f)}}))}),p(e,s),T()}export{Ft as A,xt as C,Dt as D,Jt as a,Kt as b,Xt as c,Tt as d,Nt as g};
