var K=e=>{throw TypeError(e)};var C=(e,t,r)=>t.has(e)||K("Cannot "+r);var n=(e,t,r)=>(C(e,t,"read from private field"),r?r.call(e):t.get(e)),h=(e,t,r)=>t.has(e)?K("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),b=(e,t,r,s)=>(C(e,t,"write to private field"),s?s.call(e,r):t.set(e,r),r);import{b as S}from"./BGCKW5zI.js";import{A as f,a as g,b as p,c as y,E as T,H as D}from"./Csl7mQwD.js";function E(e){return window.getComputedStyle(e).getPropertyValue("direction")}function F(e="ltr",t="horizontal"){return{horizontal:e==="rtl"?p:g,vertical:y}[t]}function W(e="ltr",t="horizontal"){return{horizontal:e==="rtl"?g:p,vertical:f}[t]}function P(e="ltr",t="horizontal"){return["ltr","rtl"].includes(e)||(e="ltr"),["horizontal","vertical"].includes(t)||(t="horizontal"),{nextKey:F(e,t),prevKey:W(e,t)}}var i,o;class k{constructor(t){h(this,i);h(this,o,S(null));b(this,i,t)}getCandidateNodes(){return n(this,i).rootNode.current?n(this,i).candidateSelector?Array.from(n(this,i).rootNode.current.querySelectorAll(n(this,i).candidateSelector)):n(this,i).candidateAttr?Array.from(n(this,i).rootNode.current.querySelectorAll(`[${n(this,i).candidateAttr}]:not([data-disabled])`)):[]:[]}focusFirstCandidate(){var r;const t=this.getCandidateNodes();t.length&&((r=t[0])==null||r.focus())}handleKeydown(t,r,s=!1){var R,v;const m=n(this,i).rootNode.current;if(!m||!t)return;const c=this.getCandidateNodes();if(!c.length)return;const u=c.indexOf(t),z=E(m),{nextKey:N,prevKey:A}=P(z,n(this,i).orientation.current),x=n(this,i).loop.current,d={[N]:u+1,[A]:u-1,[D]:0,[T]:c.length-1};if(s){const I=N===y?g:y,O=A===f?p:f;d[I]=u+1,d[O]=u-1}let a=d[r.key];if(a===void 0)return;r.preventDefault(),a<0&&x?a=c.length-1:a===c.length&&x&&(a=0);const l=c[a];if(l)return l.focus(),n(this,o).current=l.id,(v=(R=n(this,i)).onCandidateFocus)==null||v.call(R,l),l}getTabIndex(t){const r=this.getCandidateNodes(),s=n(this,o).current!==null;return t&&!s&&r[0]===t?(n(this,o).current=t.id,0):(t==null?void 0:t.id)===n(this,o).current?0:-1}setCurrentTabStopId(t){n(this,o).current=t}}i=new WeakMap,o=new WeakMap;export{k as R};
