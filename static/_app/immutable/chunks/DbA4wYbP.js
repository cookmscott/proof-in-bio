var Ae=Object.defineProperty;var ve=t=>{throw TypeError(t)};var je=(t,e,r)=>e in t?Ae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Q=(t,e,r)=>je(t,typeof e!="symbol"?e+"":e,r),Ie=(t,e,r)=>e.has(t)||ve("Cannot "+r);var V=(t,e,r)=>(Ie(t,e,"read from private field"),r?r.call(t):e.get(t)),me=(t,e,r)=>e.has(t)?ve("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r);import"./CWj6FrbW.js";import{p as H,c as W,f as P,a as o,e as R,d as h,h as ee,g as u,k as a,ak as De,j as m,n as Ee,r as g,u as Se,s as T,i as v,l as B,t as q,m as X}from"./DP-BcMQ1.js";import{d as We,s as F,e as Ge}from"./DS5rcHSR.js";import{p as z,i as S,r as te,b as ge,s as Le,a as Oe,c as Te}from"./CrcHuKx2.js";import{r as pe,b as Y,d as Z,B as E,a as qe}from"./Dw4-Sk62.js";import{C as Fe}from"./DLNyiDlm.js";import{C as He}from"./DnxMfnsY.js";import{a as Re,b as be}from"./BesuCU4H.js";import{c as Ue}from"./DdC7HWol.js";import{s as he}from"./BWx_x_V2.js";import{a as Je,c as Ke,d as Ne,b as xe,m as Qe}from"./qgAFKjXL.js";import"./BZZVwIim.js";import{p as Ve}from"./BMXBvfkd.js";import{a as Xe}from"./DsobiONc.js";var Ye=h("<input/>"),Ze=h("<input/>");function $e(t,e){H(e,!0);let r=z(e,"ref",15,null),k=z(e,"value",15),x=z(e,"files",15),w=te(e,["$$slots","$$events","$$legacy","ref","value","type","files","class"]);var p=W(),d=P(p);{var i=_=>{var l=Ye();pe(l),Y(l,s=>({"data-slot":"input",class:s,type:"file",...w}),[()=>Z("selection:bg-primary dark:bg-input/30 selection:text-primary-foreground border-input ring-offset-background placeholder:text-muted-foreground shadow-xs flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 pt-1.5 text-sm font-medium outline-none transition-[color,box-shadow] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e.class)]),ge(l,s=>r(s),()=>r()),Re(l,x),be(l,k),o(_,l)},f=_=>{var l=Ze();pe(l),Y(l,s=>({"data-slot":"input",class:s,type:e.type,...w}),[()=>Z("border-input bg-background selection:bg-primary dark:bg-input/30 selection:text-primary-foreground ring-offset-background placeholder:text-muted-foreground shadow-xs flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base outline-none transition-[color,box-shadow] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e.class)]),ge(l,s=>r(s),()=>r()),be(l,k),o(_,l)};S(d,_=>{e.type==="file"?_(i):_(f,!1)})}o(t,p),R()}const et=Ke({component:"label",parts:["root"]});var G;const re=class re{constructor(e){Q(this,"opts");Q(this,"attachment");me(this,G,ee(()=>({id:this.opts.id.current,[et.root]:"",onmousedown:this.onmousedown,...this.attachment})));this.opts=e,this.attachment=Je(this.opts.ref),this.onmousedown=this.onmousedown.bind(this)}static create(e){return new re(e)}onmousedown(e){e.detail>1&&e.preventDefault()}get props(){return u(V(this,G))}set props(e){a(V(this,G),e)}};G=new WeakMap;let $=re;var tt=h("<label><!></label>");function rt(t,e){const r=De();H(e,!0);let k=z(e,"id",19,()=>Ne(r)),x=z(e,"ref",15,null),w=te(e,["$$slots","$$events","$$legacy","children","child","id","ref","for"]);const p=$.create({id:xe.with(()=>k()),ref:xe.with(()=>x(),s=>x(s))}),d=ee(()=>Qe(w,p.props,{for:e.for}));var i=W(),f=P(i);{var _=s=>{var y=W(),I=P(y);he(I,()=>e.child,()=>({props:u(d)})),o(s,y)},l=s=>{var y=tt();Y(y,()=>({...u(d),for:e.for}));var I=m(y);he(I,()=>e.children??Ee),g(y),o(s,y)};S(f,s=>{e.child?s(_):s(l,!1)})}o(t,i),R()}function at(t,e){H(e,!0);let r=z(e,"ref",15,null),k=te(e,["$$slots","$$events","$$legacy","ref","class"]);var x=W(),w=P(x);const p=ee(()=>Z("flex select-none items-center gap-2 text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-50 group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50",e.class));Ue(w,()=>rt,(d,i)=>{i(d,Le({"data-slot":"label",get class(){return u(p)}},()=>k,{get ref(){return r()},set ref(f){r(f)}}))}),o(t,x),R()}function st(t,e,r){a(e,!1),a(r,""),Xe.set({open:!1,mode:"login"})}var ot=h('<div class="p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md"> </div>'),it=h(`<div class="p-3 text-sm text-green-600 bg-green-50 border border-green-200 rounded-md text-center">We've sent a magic link to <strong> </strong>. 
								Please check your inbox and click the link to continue.</div> <!>`,1),lt=h('<div class="grid gap-3"><!> <!></div> <!>',1),nt=h('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="size-5"><path d="M12.152 6.896c-.948 0-2.415-1.078-3.96-1.04-2.04.027-3.91 1.183-4.961 3.014-2.117 3.675-.546 9.103 1.519 12.09 1.013 1.454 2.208 3.09 3.792 3.039 1.52-.065 2.09-.987 3.935-.987 1.831 0 2.35.987 3.96.948 1.637-.026 2.676-1.48 3.676-2.948 1.156-1.688 1.636-3.325 1.662-3.415-.039-.013-3.182-1.221-3.22-4.857-.026-3.04 2.48-4.494 2.597-4.559-1.429-2.09-3.623-2.324-4.39-2.376-2-.156-3.675 1.09-4.61 1.09zM15.53 3.83c.843-1.012 1.4-2.427 1.245-3.83-1.207.052-2.662.805-3.532 1.818-.78.896-1.454 2.338-1.273 3.714 1.338.104 2.715-.688 3.559-1.701" fill="currentColor"></path></svg> <span class="sr-only">Continue with Apple</span>',1),dt=h('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="size-5"><path d="M12.48 10.92v3.28h7.84c-.24 1.84-.853 3.187-1.787 4.133-1.147 1.147-2.933 2.4-6.053 2.4-4.827 0-8.6-3.893-8.6-8.72s3.773-8.72 8.6-8.72c2.6 0 4.507 1.027 5.907 2.347l2.307-2.307C18.747 1.44 16.133 0 12.48 0 5.867 0 .307 5.387.307 12s5.56 12 12.173 12c3.573 0 6.267-1.173 8.373-3.36 2.16-2.16 2.84-5.213 2.84-7.667 0-.76-.053-1.467-.173-2.053H12.48z" fill="currentColor"></path></svg> <span class="sr-only">Continue with Google</span>',1),ct=h('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="size-5"><path d="M6.915 4.03c-1.968 0-3.683 1.28-4.871 3.113C.704 9.208 0 11.883 0 14.449c0 .706.07 1.369.21 1.973a6.624 6.624 0 0 0 .265.86 5.297 5.297 0 0 0 .371.761c.696 1.159 1.818 1.927 3.593 1.927 1.497 0 2.633-.671 3.965-2.444.76-1.012 1.144-1.626 2.663-4.32l.756-1.339.186-.325c.061.1.121.196.183.3l2.152 3.595c.724 1.21 1.665 2.556 2.47 3.314 1.046.987 1.992 1.22 3.06 1.22 1.075 0 1.876-.355 2.455-.843a3.743 3.743 0 0 0 .81-.973c.542-.939.861-2.127.861-3.745 0-2.72-.681-5.357-2.084-7.45-1.282-1.912-2.957-2.93-4.716-2.93-1.047 0-2.088.467-3.053 1.308-.652.57-1.257 1.29-1.82 2.05-.69-.875-1.335-1.547-1.958-2.056-1.182-.966-2.315-1.303-3.454-1.303zm10.16 2.053c1.147 0 2.188.758 2.992 1.999 1.132 1.748 1.647 4.195 1.647 6.4 0 1.548-.368 2.9-1.839 2.9-.58 0-1.027-.23-1.664-1.004-.496-.601-1.343-1.878-2.832-4.358l-.617-1.028a44.908 44.908 0 0 0-1.255-1.98c.07-.109.141-.224.211-.327 1.12-1.667 2.118-2.602 3.358-2.602zm-10.201.553c1.265 0 2.058.791 2.675 1.446.307.327.737.871 1.234 1.579l-1.02 1.566c-.757 1.163-1.882 3.017-2.837 4.338-1.191 1.649-1.81 1.817-2.486 1.817-.524 0-1.038-.237-1.383-.794-.263-.426-.464-1.13-.464-2.046 0-2.221.63-4.535 1.66-6.088.454-.687.964-1.226 1.533-1.533a2.264 2.264 0 0 1 1.088-.285z" fill="currentColor"></path></svg> <span class="sr-only">Continue with Meta</span>',1),ut=h('<form class="p-6 md:p-8"><div class="flex flex-col gap-6"><div class="flex items-center justify-between"><div></div> <button type="button" class="text-gray-500 hover:text-gray-700" aria-label="Close dialog"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div> <div class="flex flex-col items-center text-center"><h1 class="text-2xl font-bold">Welcome to Proof in Bio</h1> <p class="text-muted-foreground text-balance"> </p></div> <!> <!> <div class="after:border-border relative text-center text-sm after:absolute after:inset-0 after:top-1/2 after:z-0 after:flex after:items-center after:border-t"><span class="bg-card text-muted-foreground relative z-10 px-2">Or continue with</span></div> <div class="grid grid-cols-3 gap-4"><!> <!> <!></div></div></form> <div class="bg-muted relative hidden md:block"><img alt="placeholder" class="absolute inset-0 h-full w-full object-cover dark:brightness-[0.2] dark:grayscale"/></div>',1),ft=h('<div class="fixed inset-0 z-50 flex items-center justify-center bg-black/40"><!></div>');function jt(t,e){H(e,!0);const[r,k]=Oe(),x=()=>Te(Ve,"$page",r);let w=z(e,"open",3,!0);z(e,"mode",3,"login");let p=T(""),d=T(!1),i=T(""),f=T(!1);Se(()=>{w()||(a(f,!1),a(i,""))});async function _(C){var A;C.preventDefault(),a(d,!0),a(i,""),a(f,!1);try{const{error:L}=await e.supabase.auth.signInWithOtp({email:u(p),options:{emailRedirectTo:`${x().url.origin}/auth/callback`}});L?a(i,L.message,!0):(a(f,!0),(A=e.onsuccess)==null||A.call(e,{detail:{type:"magic-link",email:u(p)}}))}catch{a(i,"An unexpected error occurred")}finally{a(d,!1)}}async function l(){a(d,!0),a(i,"");try{const{error:C}=await e.supabase.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${x().url.origin}/auth/callback`}});C&&(a(i,C.message,!0),a(d,!1))}catch{a(i,"Failed to sign in with Google"),a(d,!1)}}var s=W(),y=P(s);{var I=C=>{var A=ft(),L=m(A);Fe(L,{class:"overflow-hidden p-0 w-full max-w-sm md:max-w-3xl",children:(_e,vt)=>{He(_e,{class:"grid p-0 md:grid-cols-2",children:(we,mt)=>{var ae=ut(),O=P(ae),se=m(O),U=m(se),ye=v(m(U),2);ye.__click=[st,f,i],g(U);var J=v(U,2),oe=v(m(J),2),ke=m(oe,!0);g(oe),g(J);var ie=v(J,2);{var Ce=n=>{var b=ot(),c=m(b,!0);g(b),q(()=>F(c,u(i))),o(n,b)};S(ie,n=>{u(i)&&n(Ce)})}var le=v(ie,2);{var Pe=n=>{var b=it(),c=P(b),D=v(m(c)),K=m(D,!0);g(D),B(),g(c);var N=v(c,2);E(N,{type:"button",variant:"outline",class:"w-full",onclick:()=>a(f,!1),children:(M,fe)=>{B();var j=X("Use a different email");o(M,j)},$$slots:{default:!0}}),q(()=>F(K,u(p))),o(n,b)},ze=n=>{var b=lt(),c=P(b),D=m(c);at(D,{for:"email",children:(M,fe)=>{B();var j=X("Email");o(M,j)},$$slots:{default:!0}});var K=v(D,2);$e(K,{id:"email",name:"email",type:"email",placeholder:"m@example.com",required:!0,get value(){return u(p)},set value(M){a(p,M,!0)}}),g(c);var N=v(c,2);E(N,{type:"submit",class:"w-full",get disabled(){return u(d)},children:(M,fe)=>{B();var j=X();q(()=>F(j,u(d)?"Sending link...":"Send Magic Link")),o(M,j)},$$slots:{default:!0}}),o(n,b)};S(le,n=>{u(f)?n(Pe):n(ze,!1)})}var ne=v(le,4),de=m(ne);E(de,{variant:"outline",type:"button",class:"w-full",disabled:!0,children:(n,b)=>{var c=nt();B(2),o(n,c)},$$slots:{default:!0}});var ce=v(de,2);E(ce,{variant:"outline",type:"button",class:"w-full flex items-center justify-center gap-2",onclick:l,get disabled(){return u(d)},children:(n,b)=>{var c=dt();B(2),o(n,c)},$$slots:{default:!0}});var Me=v(ce,2);E(Me,{variant:"outline",type:"button",class:"w-full",disabled:!0,children:(n,b)=>{var c=ct();B(2),o(n,c)},$$slots:{default:!0}}),g(ne),g(se),g(O);var ue=v(O,2),Be=m(ue);qe(Be,"src","https://picsum.photos/600/800?random="+Math.floor(Math.random()*1e3)),g(ue),q(()=>F(ke,u(f)?"Check your email for a magic link!":"Enter your email to sign in or create an account")),Ge("submit",O,_),o(we,ae)},$$slots:{default:!0}})},$$slots:{default:!0}}),g(A),o(C,A)};S(y,C=>{w()&&C(I)})}o(t,s),R(),k()}We(["click"]);export{jt as A};
