var Ce=Object.defineProperty;var ce=t=>{throw TypeError(t)};var Pe=(t,e,a)=>e in t?Ce(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a;var J=(t,e,a)=>Pe(t,typeof e!="symbol"?e+"":e,a),ze=(t,e,a)=>e.has(t)||ce("Cannot "+a);var K=(t,e,a)=>(ze(t,e,"read from private field"),a?a.call(t):e.get(t)),ue=(t,e,a)=>e.has(t)?ce("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,a);import"./CWj6FrbW.js";import{u as V,i as n,g as r,ai as Me,p as X,c as O,f as k,a as o,d as Y,b,e as u,n as $e,r as f,m as Be,h as S,s as c,j as y,k as W,t as N}from"./C2C4OSbN.js";import{s as G}from"./CaX8zT8B.js";import{p as j,i as L,r as me,s as Ae,a as je,c as Ie}from"./DMomQ0_j.js";import{b as De,d as Ee,B as A,s as Se}from"./TSTVjuax.js";import{d as We,e as Ge}from"./DokP9ubG.js";import{C as Le}from"./BgpECmlh.js";import{C as Oe}from"./DE5p0xUg.js";import{I as Te}from"./CmjDAzlH.js";import{c as qe}from"./U4ZWPL4m.js";import{s as fe}from"./CMFJKJ6Y.js";import{a as Fe,c as He,d as Re,b as ve,m as Ue}from"./BGCKW5zI.js";import"./CUsfyBqE.js";import{p as Je}from"./8ev16Pwk.js";import{a as Ke}from"./w2l5sjIF.js";const Ne=He({component:"label",parts:["root"]});var I;const Z=class Z{constructor(e){J(this,"opts");J(this,"attachment");ue(this,I,V(()=>({id:this.opts.id.current,[Ne.root]:"",onmousedown:this.onmousedown,...this.attachment})));this.opts=e,this.attachment=Fe(this.opts.ref),this.onmousedown=this.onmousedown.bind(this)}static create(e){return new Z(e)}onmousedown(e){e.detail>1&&e.preventDefault()}get props(){return n(K(this,I))}set props(e){r(K(this,I),e)}};I=new WeakMap;let Q=Z;var Qe=b("<label><!></label>");function Ve(t,e){const a=Me();X(e,!0);let M=j(e,"id",19,()=>Re(a)),_=j(e,"ref",15,null),C=me(e,["$$slots","$$events","$$legacy","children","child","id","ref","for"]);const g=Q.create({id:ve.with(()=>M()),ref:ve.with(()=>_(),p=>_(p))}),d=V(()=>Ue(C,g.props,{for:e.for}));var l=O(),m=k(l);{var T=p=>{var h=O(),$=k(h);fe($,()=>e.child,()=>({props:n(d)})),o(p,h)},q=p=>{var h=Qe();De(h,()=>({...n(d),for:e.for}));var $=u(h);fe($,()=>e.children??$e),f(h),o(p,h)};L(m,p=>{e.child?p(T):p(q,!1)})}o(t,l),Y()}function Xe(t,e){X(e,!0);let a=j(e,"ref",15,null),M=me(e,["$$slots","$$events","$$legacy","ref","class"]);var _=O(),C=k(_);const g=V(()=>Ee("flex select-none items-center gap-2 text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-50 group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50",e.class));qe(C,()=>Ve,(d,l)=>{l(d,Ae({"data-slot":"label",get class(){return n(g)}},()=>M,{get ref(){return a()},set ref(m){a(m)}}))}),o(t,_),Y()}function Ye(t,e,a){r(e,!1),r(a,""),Ke.set({open:!1,mode:"login"})}var Ze=b('<div class="p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md"> </div>'),et=b(`<div class="p-3 text-sm text-green-600 bg-green-50 border border-green-200 rounded-md text-center">We've sent a magic link to <strong> </strong>. 
								Please check your inbox and click the link to continue.</div> <!>`,1),tt=b('<div class="grid gap-3"><!> <!></div> <!>',1),at=b('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="size-5"><path d="M12.152 6.896c-.948 0-2.415-1.078-3.96-1.04-2.04.027-3.91 1.183-4.961 3.014-2.117 3.675-.546 9.103 1.519 12.09 1.013 1.454 2.208 3.09 3.792 3.039 1.52-.065 2.09-.987 3.935-.987 1.831 0 2.35.987 3.96.948 1.637-.026 2.676-1.48 3.676-2.948 1.156-1.688 1.636-3.325 1.662-3.415-.039-.013-3.182-1.221-3.22-4.857-.026-3.04 2.48-4.494 2.597-4.559-1.429-2.09-3.623-2.324-4.39-2.376-2-.156-3.675 1.09-4.61 1.09zM15.53 3.83c.843-1.012 1.4-2.427 1.245-3.83-1.207.052-2.662.805-3.532 1.818-.78.896-1.454 2.338-1.273 3.714 1.338.104 2.715-.688 3.559-1.701" fill="currentColor"></path></svg> <span class="sr-only">Continue with Apple</span>',1),rt=b('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="size-5"><path d="M12.48 10.92v3.28h7.84c-.24 1.84-.853 3.187-1.787 4.133-1.147 1.147-2.933 2.4-6.053 2.4-4.827 0-8.6-3.893-8.6-8.72s3.773-8.72 8.6-8.72c2.6 0 4.507 1.027 5.907 2.347l2.307-2.307C18.747 1.44 16.133 0 12.48 0 5.867 0 .307 5.387.307 12s5.56 12 12.173 12c3.573 0 6.267-1.173 8.373-3.36 2.16-2.16 2.84-5.213 2.84-7.667 0-.76-.053-1.467-.173-2.053H12.48z" fill="currentColor"></path></svg> <span class="sr-only">Continue with Google</span>',1),st=b('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="size-5"><path d="M6.915 4.03c-1.968 0-3.683 1.28-4.871 3.113C.704 9.208 0 11.883 0 14.449c0 .706.07 1.369.21 1.973a6.624 6.624 0 0 0 .265.86 5.297 5.297 0 0 0 .371.761c.696 1.159 1.818 1.927 3.593 1.927 1.497 0 2.633-.671 3.965-2.444.76-1.012 1.144-1.626 2.663-4.32l.756-1.339.186-.325c.061.1.121.196.183.3l2.152 3.595c.724 1.21 1.665 2.556 2.47 3.314 1.046.987 1.992 1.22 3.06 1.22 1.075 0 1.876-.355 2.455-.843a3.743 3.743 0 0 0 .81-.973c.542-.939.861-2.127.861-3.745 0-2.72-.681-5.357-2.084-7.45-1.282-1.912-2.957-2.93-4.716-2.93-1.047 0-2.088.467-3.053 1.308-.652.57-1.257 1.29-1.82 2.05-.69-.875-1.335-1.547-1.958-2.056-1.182-.966-2.315-1.303-3.454-1.303zm10.16 2.053c1.147 0 2.188.758 2.992 1.999 1.132 1.748 1.647 4.195 1.647 6.4 0 1.548-.368 2.9-1.839 2.9-.58 0-1.027-.23-1.664-1.004-.496-.601-1.343-1.878-2.832-4.358l-.617-1.028a44.908 44.908 0 0 0-1.255-1.98c.07-.109.141-.224.211-.327 1.12-1.667 2.118-2.602 3.358-2.602zm-10.201.553c1.265 0 2.058.791 2.675 1.446.307.327.737.871 1.234 1.579l-1.02 1.566c-.757 1.163-1.882 3.017-2.837 4.338-1.191 1.649-1.81 1.817-2.486 1.817-.524 0-1.038-.237-1.383-.794-.263-.426-.464-1.13-.464-2.046 0-2.221.63-4.535 1.66-6.088.454-.687.964-1.226 1.533-1.533a2.264 2.264 0 0 1 1.088-.285z" fill="currentColor"></path></svg> <span class="sr-only">Continue with Meta</span>',1),ot=b('<form class="p-6 md:p-8"><div class="flex flex-col gap-6"><div class="flex items-center justify-between"><div></div> <button type="button" class="text-gray-500 hover:text-gray-700" aria-label="Close dialog"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div> <div class="flex flex-col items-center text-center"><h1 class="text-2xl font-bold">Welcome to Proof in Bio</h1> <p class="text-muted-foreground text-balance"> </p></div> <!> <!> <div class="after:border-border relative text-center text-sm after:absolute after:inset-0 after:top-1/2 after:z-0 after:flex after:items-center after:border-t"><span class="bg-card text-muted-foreground relative z-10 px-2">Or continue with</span></div> <div class="grid grid-cols-3 gap-4"><!> <!> <!></div></div></form> <div class="bg-muted relative hidden md:block"><img alt="placeholder" class="absolute inset-0 h-full w-full object-cover dark:brightness-[0.2] dark:grayscale"/></div>',1),lt=b('<div class="fixed inset-0 z-50 flex items-center justify-center bg-black/40"><!></div>');function Pt(t,e){X(e,!0);const[a,M]=je(),_=()=>Ie(Je,"$page",a);let C=j(e,"open",3,!0);j(e,"mode",3,"login");let g=S(""),d=S(!1),l=S(""),m=S(!1);Be(()=>{C()||(r(m,!1),r(l,""))});async function T(x){var P;x.preventDefault(),r(d,!0),r(l,""),r(m,!1);try{const{error:D}=await e.supabase.auth.signInWithOtp({email:n(g),options:{emailRedirectTo:`${_().url.origin}/auth/callback`}});D?r(l,D.message,!0):(r(m,!0),(P=e.onsuccess)==null||P.call(e,{detail:{type:"magic-link",email:n(g)}}))}catch{r(l,"An unexpected error occurred")}finally{r(d,!1)}}async function q(){r(d,!0),r(l,"");try{const{error:x}=await e.supabase.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${_().url.origin}/auth/callback`}});x&&(r(l,x.message,!0),r(d,!1))}catch{r(l,"Failed to sign in with Google"),r(d,!1)}}var p=O(),h=k(p);{var $=x=>{var P=lt(),D=u(P);Le(D,{class:"overflow-hidden p-0 w-full max-w-sm md:max-w-3xl",children:(pe,it)=>{Oe(pe,{class:"grid p-0 md:grid-cols-2",children:(ge,nt)=>{var ee=ot(),E=k(ee),te=u(E),F=u(te),he=c(u(F),2);he.__click=[Ye,m,l],f(F);var H=c(F,2),ae=c(u(H),2),be=u(ae,!0);f(ae),f(H);var re=c(H,2);{var _e=s=>{var v=Ze(),i=u(v,!0);f(v),W(()=>G(i,n(l))),o(s,v)};L(re,s=>{n(l)&&s(_e)})}var se=c(re,2);{var xe=s=>{var v=et(),i=k(v),B=c(u(i)),R=u(B,!0);f(B),y(),f(i);var U=c(i,2);A(U,{type:"button",variant:"outline",class:"w-full",onclick:()=>r(m,!1),children:(w,de)=>{y();var z=N("Use a different email");o(w,z)},$$slots:{default:!0}}),W(()=>G(R,n(g))),o(s,v)},we=s=>{var v=tt(),i=k(v),B=u(i);Xe(B,{for:"email",children:(w,de)=>{y();var z=N("Email");o(w,z)},$$slots:{default:!0}});var R=c(B,2);Te(R,{id:"email",name:"email",type:"email",placeholder:"m@example.com",required:!0,get value(){return n(g)},set value(w){r(g,w,!0)}}),f(i);var U=c(i,2);A(U,{type:"submit",class:"w-full",get disabled(){return n(d)},children:(w,de)=>{y();var z=N();W(()=>G(z,n(d)?"Sending link...":"Send Magic Link")),o(w,z)},$$slots:{default:!0}}),o(s,v)};L(se,s=>{n(m)?s(xe):s(we,!1)})}var oe=c(se,4),le=u(oe);A(le,{variant:"outline",type:"button",class:"w-full",disabled:!0,children:(s,v)=>{var i=at();y(2),o(s,i)},$$slots:{default:!0}});var ie=c(le,2);A(ie,{variant:"outline",type:"button",class:"w-full flex items-center justify-center gap-2",onclick:q,get disabled(){return n(d)},children:(s,v)=>{var i=rt();y(2),o(s,i)},$$slots:{default:!0}});var ye=c(ie,2);A(ye,{variant:"outline",type:"button",class:"w-full",disabled:!0,children:(s,v)=>{var i=st();y(2),o(s,i)},$$slots:{default:!0}}),f(oe),f(te),f(E);var ne=c(E,2),ke=u(ne);Se(ke,"src","https://picsum.photos/600/800?random="+Math.floor(Math.random()*1e3)),f(ne),W(()=>G(be,n(m)?"Check your email for a magic link!":"Enter your email to sign in or create an account")),Ge("submit",E,T),o(ge,ee)},$$slots:{default:!0}})},$$slots:{default:!0}}),f(P),o(x,P)};L(h,x=>{C()&&x($)})}o(t,p),Y(),M()}We(["click"]);export{Pt as A};
