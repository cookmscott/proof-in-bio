import"../chunks/CWj6FrbW.js";import{p as we,d as y,a as c,e as ke,j as s,n as De,r as i,s as L,b as ge,u as Ee,t as M,f as j,g as t,h as Le,i as r,m as xe,c as Re,k as b,l as h}from"../chunks/DP-BcMQ1.js";import{d as Se,e as Me,s as Y,r as Ne}from"../chunks/DS5rcHSR.js";import{p as ze,r as Fe,b as Ge,i as We}from"../chunks/CrcHuKx2.js";import{e as qe,i as Je}from"../chunks/BhJnL3fA.js";import{a as Ke}from"../chunks/BeivhKim.js";import{b as Oe,d as Xe,B as H,s as _e,a as he,r as I}from"../chunks/Dw4-Sk62.js";import{b as R}from"../chunks/BesuCU4H.js";import{A as Ye,a as He,b as Qe}from"../chunks/BT5j_n3M.js";import{B as Ve}from"../chunks/BCUSC-SJ.js";import{C as Ze}from"../chunks/DLNyiDlm.js";import{s as $e}from"../chunks/BWx_x_V2.js";import{e as et}from"../chunks/9RRSasze.js";import"../chunks/DgLpz-Eq.js";import{A as tt}from"../chunks/pvKKh3J2.js";import{U as at}from"../chunks/h6LobnOQ.js";import{C as rt}from"../chunks/BGZIxeoy.js";import{L as st}from"../chunks/CKAx8NTr.js";import{t as ye}from"../chunks/BkhvS07k.js";import{X as it}from"../chunks/DBUbm6yN.js";var ot=y("<div><!></div>");function lt(m,e){we(e,!0);let o=ze(e,"ref",15,null),d=Fe(e,["$$slots","$$events","$$legacy","ref","class","children"]);var f=ot();Oe(f,g=>({"data-slot":"card-footer",class:g,...d}),[()=>Xe("[.border-t]:pt-6 flex items-center px-6",e.class)]);var n=s(f);$e(n,()=>e.children??De),i(f),Ge(f,g=>o(g),()=>o()),c(m,f),ke()}function nt(m,e){var d;const o=(d=m.target.files)==null?void 0:d[0];if(o){const f=new FileReader;f.onload=n=>{b(e,n.target.result,!0)},f.readAsDataURL(o)}}function dt(m,e,o,d){["Enter",","," "].includes(m.key)?(m.preventDefault(),e()):m.key==="Backspace"&&t(o)===""&&t(d).length>0&&b(d,t(d).slice(0,-1),!0)}var ft=y("<!> <!>",1),ut=y("<!> ",1),ct=(m,e,o)=>e(t(o)),mt=y(' <button type="button" class="ml-1 rounded-full outline-none ring-offset-background focus:ring-2 focus:ring-ring focus:ring-offset-2"><!> <span class="sr-only"> </span></button>',1),pt=y("<!> Saving...",1),vt=y('<p class="text-xs text-muted-foreground hidden sm:block">Please save your changes before leaving.</p> <div class="flex gap-4 ml-auto"><!> <!></div>',1),bt=y('<form method="POST" enctype="multipart/form-data"><div class="p-6 md:p-8 space-y-8"><div class="flex flex-col sm:flex-row gap-8 items-start sm:items-center border-b pb-8"><!> <div class="space-y-2 flex-1"><h3 class="font-semibold text-lg">Profile Picture</h3> <p class="text-sm text-muted-foreground">This will be displayed on your public profile.</p> <div class="pt-2 flex items-center gap-4"><input type="file" id="avatar" name="avatar" accept="image/jpeg,image/jpg,image/png,image/webp" class="hidden"/> <!> <p class="text-xs text-muted-foreground">JPG, PNG or WebP. Max 2MB.</p></div></div></div> <div class="grid gap-6 md:grid-cols-2"><div class="space-y-2"><label for="username" class="text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70">Username</label> <input type="text" id="username" readonly="" disabled class="flex h-10 w-full rounded-md border border-input bg-muted px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"/> <p class="text-[0.8rem] text-muted-foreground">Your unique profile URL.</p></div> <div class="space-y-2"><label for="display_name" class="text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70">Display Name</label> <input type="text" id="display_name" name="display_name" class="flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"/></div></div> <div class="space-y-2"><label for="bio" class="text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70">Bio</label> <textarea id="bio" name="bio" rows="4" class="flex min-h-[100px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 resize-y"></textarea> <p class="text-[0.8rem] text-muted-foreground">Tell us a little bit about yourself.</p></div> <div class="grid gap-6 md:grid-cols-2"><div class="space-y-2"><label for="website" class="text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70">Website</label> <input type="url" id="website" name="website" placeholder="https://example.com" class="flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"/></div> <div class="space-y-2"><label for="location" class="text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70">Location</label> <input type="text" id="location" name="location" placeholder="City, Country" class="flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"/></div></div> <div class="space-y-2"><label for="interests" class="text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70">Interests</label> <div class="flex min-h-[2.5rem] w-full flex-wrap gap-2 rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-within:ring-2 focus-within:ring-ring focus-within:ring-offset-2"><!> <input type="text" class="flex-1 bg-transparent outline-none placeholder:text-muted-foreground min-w-[120px]"/></div> <input type="hidden" name="interests"/> <p class="text-[0.8rem] text-muted-foreground">Type and press Enter or Space to add interests.</p></div></div> <!></form>'),gt=y('<div class="min-h-screen bg-muted/30 py-10"><div class="container mx-auto max-w-3xl px-4"><div class="mb-8"><a class="inline-flex items-center text-sm font-medium text-muted-foreground hover:text-primary transition-colors mb-4"><!> Back to Profile</a> <h1 class="text-3xl font-bold tracking-tight text-foreground">Edit Profile</h1> <p class="text-muted-foreground mt-1">Manage your profile settings and public preferences.</p></div> <!></div></div>');function Nt(m,e){var Z,$,ee,te,ae,re;we(e,!0);let o=L(ge({username:((Z=e.data.profile)==null?void 0:Z.username)||"",display_name:(($=e.data.profile)==null?void 0:$.display_name)||"",bio:((ee=e.data.profile)==null?void 0:ee.bio)||"",website:((te=e.data.profile)==null?void 0:te.website)||"",location:((ae=e.data.profile)==null?void 0:ae.location)||"",interests:((re=e.data.interests)==null?void 0:re.join(", "))||""})),d=L(!1);Ee(()=>{var p,U,w,P,C,T;b(o,{username:((p=e.data.profile)==null?void 0:p.username)||"",display_name:((U=e.data.profile)==null?void 0:U.display_name)||"",bio:((w=e.data.profile)==null?void 0:w.bio)||"",website:((P=e.data.profile)==null?void 0:P.website)||"",location:((C=e.data.profile)==null?void 0:C.location)||"",interests:((T=e.data.interests)==null?void 0:T.join(", "))||""},!0),b(n,e.data.interests||[],!0)});let f=L(null),n=L(ge(e.data.interests||[])),g=L("");function Q(){const p=t(g).trim();p&&!t(n).includes(p)&&(b(n,[...t(n),p],!0),b(g,""))}function Pe(p){b(n,t(n).filter(U=>U!==p),!0)}var N=gt(),V=s(N),z=s(V),F=s(z),Ce=s(F);tt(Ce,{class:"mr-2 h-4 w-4"}),h(),i(F),h(4),i(z);var Be=r(z,2);Ze(Be,{class:"overflow-hidden border-border/50 shadow-sm py-0",children:(p,U)=>{var w=bt(),P=s(w),C=s(P),T=s(C);Ye(T,{class:"h-24 w-24 sm:h-28 sm:w-28 border-4 border-background shadow-sm",children:(a,v)=>{var l=ft(),x=j(l);const _=Le(()=>{var u;return t(f)||((u=e.data.profile)==null?void 0:u.avatar_url)});He(x,{get src(){return t(_)},alt:"Profile preview"});var B=r(x,2);Qe(B,{children:(u,E)=>{at(u,{class:"h-10 w-10 text-muted-foreground"})},$$slots:{default:!0}}),c(a,l)},$$slots:{default:!0}});var se=r(T,2),ie=r(s(se),4),oe=s(ie);oe.__change=[nt,f];var Ae=r(oe,2);H(Ae,{type:"button",variant:"outline",size:"sm",onclick:()=>document.getElementById("avatar").click(),children:(a,v)=>{var l=ut(),x=j(l);rt(x,{class:"h-4 w-4 mr-2"});var _=r(x);M(()=>Y(_,` ${t(f)?"Change Photo":"Upload Photo"}`)),c(a,l)},$$slots:{default:!0}}),h(2),i(ie),i(se),i(C);var G=r(C,2),W=s(G),le=r(s(W),2);I(le),h(2),i(W);var ne=r(W,2),de=r(s(ne),2);I(de),i(ne),i(G);var q=r(G,2),fe=r(s(q),2);Ne(fe),h(2),i(q);var J=r(q,2),K=s(J),ue=r(s(K),2);I(ue),i(K);var ce=r(K,2),me=r(s(ce),2);I(me),i(ce),i(J);var pe=r(J,2),O=r(s(pe),2),ve=s(O);qe(ve,17,()=>t(n),Je,(a,v)=>{Ve(a,{variant:"secondary",class:"gap-1 pr-1",children:(l,x)=>{h();var _=mt(),B=j(_),u=r(B);u.__click=[ct,Pe,v];var E=s(u);it(E,{class:"h-3 w-3 text-muted-foreground hover:text-foreground"});var k=r(E,2),X=s(k);i(k),i(u),M(()=>{Y(B,`${t(v)??""} `),Y(X,`Remove ${t(v)??""}`)}),c(l,_)},$$slots:{default:!0}})});var D=r(ve,2);I(D),D.__keydown=[dt,Q,g,n],i(O);var be=r(O,2);I(be),h(2),i(pe),i(P);var je=r(P,2);lt(je,{class:"bg-muted/50 px-6 py-6 flex items-center justify-between border-t",children:(a,v)=>{var l=vt(),x=r(j(l),2),_=s(x);H(_,{variant:"ghost",get href(){return`/${e.data.profile.username??""}`},children:(u,E)=>{h();var k=xe("Cancel");c(u,k)},$$slots:{default:!0}});var B=r(_,2);H(B,{type:"submit",get disabled(){return t(d)},children:(u,E)=>{var k=Re(),X=j(k);{var Ie=A=>{var S=pt(),Te=j(S);st(Te,{class:"mr-2 h-4 w-4 animate-spin"}),h(),c(A,S)},Ue=A=>{var S=xe("Save Changes");c(A,S)};We(X,A=>{t(d)?A(Ie):A(Ue,!1)})}c(u,k)},$$slots:{default:!0}}),i(x),c(a,l)},$$slots:{default:!0}}),i(w),Ke(w,(a,v)=>{var l;return(l=et)==null?void 0:l(a,v)},()=>()=>(b(d,!0),async({result:a,update:v})=>{var l;b(d,!1),a.type==="success"?ye.success("Profile updated successfully!"):a.type==="failure"&&ye.error(((l=a.data)==null?void 0:l.error)||"Failed to update profile"),await v({reset:!1})})),M(a=>{_e(le,t(o).username),he(D,"placeholder",t(n).length===0?"Photography, Travel, Nature":""),_e(be,a)},[()=>t(n).join(", ")]),R(de,()=>t(o).display_name,a=>t(o).display_name=a),R(fe,()=>t(o).bio,a=>t(o).bio=a),R(ue,()=>t(o).website,a=>t(o).website=a),R(me,()=>t(o).location,a=>t(o).location=a),Me("blur",D,Q),R(D,()=>t(g),a=>b(g,a)),c(p,w)},$$slots:{default:!0}}),i(V),i(N),M(()=>he(F,"href",`/${e.data.profile.username??""}`)),c(m,N),ke()}Se(["change","click","keydown"]);export{Nt as component};
