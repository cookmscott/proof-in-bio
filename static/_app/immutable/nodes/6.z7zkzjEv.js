var $a=Object.defineProperty;var Ft=e=>{throw TypeError(e)};var wa=(e,t,a)=>t in e?$a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a;var kt=(e,t,a)=>wa(e,typeof t!="symbol"?t+"":t,a),Ca=(e,t,a)=>t.has(e)||Ft("Cannot "+a);var Pt=(e,t,a)=>(Ca(e,t,"read from private field"),a?a.call(e):t.get(e)),jt=(e,t,a)=>t.has(e)?Ft("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,a);import"../chunks/CWj6FrbW.js";import{j as X,i as r,k as S,aD as ka,p as _t,d as h,h as f,r as c,t as E,a as v,e as xt,c as Y,f as C,n as Pa,g as p,l as se,s as ve,b as ta,u as Sa,m as nt,aZ as mt}from"../chunks/pWktw37S.js";import{s as J}from"../chunks/DSH6DRO-.js";import{p as it,i as P,r as aa,l as pe,s as ce,b as ra}from"../chunks/x2hLKNxq.js";import{I as me,s as ge,e as st,i as Mt}from"../chunks/CqV7ya31.js";import{g as na,b as Aa,B as ot,e as Et,a as je}from"../chunks/Um4EIWL9.js";import{d as ia,e as Me,f as Ma}from"../chunks/Dc3OgW9d.js";import{i as Na}from"../chunks/DWrQvQ3Q.js";import{A as Ua,a as Ia,b as Da}from"../chunks/D0aVbJyj.js";import{B as za}from"../chunks/DRPOvy2M.js";import{C as sa}from"../chunks/PKLICf-u.js";import{c as oa}from"../chunks/H_-FArss.js";import{s as Rt}from"../chunks/DBFbfTei.js";import{a as Ta,c as Fa,d as ja,b as St,m as Ea}from"../chunks/D5KCyrOo.js";import{P as Vt,S as Ra,a as Va}from"../chunks/BuwnjqzI.js";import"../chunks/UAYuEykA.js";import{F as Oa}from"../chunks/Cqo8cDOs.js";import{C as Wa}from"../chunks/9LXuha23.js";import{C as La,a as Ba,b as Ga}from"../chunks/Bz_5xeAR.js";import{S as Ha,a as la,C as gt,b as Ot}from"../chunks/BO69Ki9x.js";import{X as qa}from"../chunks/Dz3FffbF.js";import{U as Nt}from"../chunks/DugbzGdQ.js";import{C as Wt}from"../chunks/F4q008Ds.js";import{L as Lt}from"../chunks/Dz5Gx38q.js";import{F as Bt}from"../chunks/DD1Ios3-.js";import{U as Ja}from"../chunks/DuPISISz.js";const Ya=Fa({component:"aspect-ratio",parts:["root"]});var lt;const It=class It{constructor(t){kt(this,"opts");kt(this,"attachment");jt(this,lt,X(()=>({id:this.opts.id.current,style:{position:"absolute",top:0,right:0,bottom:0,left:0},[Ya.root]:"",...this.attachment})));this.opts=t,this.attachment=Ta(this.opts.ref)}static create(t){return new It(t)}get props(){return r(Pt(this,lt))}set props(t){S(Pt(this,lt),t)}};lt=new WeakMap;let Ut=It;var Ka=h("<div><!></div>"),Xa=h("<div><!></div>");function Za(e,t){const a=ka();_t(t,!0);let n=it(t,"ref",15,null),i=it(t,"id",19,()=>ja(a)),l=it(t,"ratio",3,1),o=aa(t,["$$slots","$$events","$$legacy","ref","id","ratio","children","child"]);const s=Ut.create({id:St.with(()=>i()),ref:St.with(()=>n(),U=>n(U)),ratio:St.with(()=>l())}),m=X(()=>Ea(o,s.props));var x=Xa();let N;var W=f(x);{var w=U=>{var L=Y(),ae=C(L);Rt(ae,()=>t.child,()=>({props:r(m)})),v(U,L)},ue=U=>{var L=Ka();Aa(L,()=>({...r(m)}));var ae=f(L);Rt(ae,()=>t.children??Pa),c(L),v(U,L)};P(W,U=>{t.child?U(w):U(ue,!1)})}c(x),E(()=>N=na(x,"",N,{position:"relative",width:"100%","padding-bottom":`${l()?100/l():0}%`})),v(e,x),xt()}function Qa(e,t){const a=pe(t,["children","$$slots","$$events","$$legacy"]),n=[["path",{d:"m6 9 6 6 6-6"}]];me(e,ce({name:"chevron-down"},()=>a,{get iconNode(){return n},children:(i,l)=>{var o=Y(),s=C(o);ge(s,t,"default",{}),v(i,o)},$$slots:{default:!0}}))}function Gt(e,t){const a=pe(t,["children","$$slots","$$events","$$legacy"]),n=[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"M8 12h8"}],["path",{d:"M12 8v8"}]];me(e,ce({name:"circle-plus"},()=>a,{get iconNode(){return n},children:(i,l)=>{var o=Y(),s=C(o);ge(s,t,"default",{}),v(i,o)},$$slots:{default:!0}}))}function da(e,t){const a=pe(t,["children","$$slots","$$events","$$legacy"]),n=[["path",{d:"m16 18 6-6-6-6"}],["path",{d:"m8 6-6 6 6 6"}]];me(e,ce({name:"code"},()=>a,{get iconNode(){return n},children:(i,l)=>{var o=Y(),s=C(o);ge(s,t,"default",{}),v(i,o)},$$slots:{default:!0}}))}function er(e,t){const a=pe(t,["children","$$slots","$$events","$$legacy"]),n=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2"}],["circle",{cx:"9",cy:"9",r:"2"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"}]];me(e,ce({name:"image"},()=>a,{get iconNode(){return n},children:(i,l)=>{var o=Y(),s=C(o);ge(s,t,"default",{}),v(i,o)},$$slots:{default:!0}}))}function Ht(e,t){const a=pe(t,["children","$$slots","$$events","$$legacy"]),n=[["path",{d:"M11 12H3"}],["path",{d:"M16 6H3"}],["path",{d:"M16 18H3"}],["path",{d:"M21 12h-6"}]];me(e,ce({name:"list-minus"},()=>a,{get iconNode(){return n},children:(i,l)=>{var o=Y(),s=C(o);ge(s,t,"default",{}),v(i,o)},$$slots:{default:!0}}))}function At(e,t){const a=pe(t,["children","$$slots","$$events","$$legacy"]),n=[["path",{d:"M11 19H5v-6"}],["path",{d:"M13 5h6v6"}],["path",{d:"M19 5 5 19"}]];me(e,ce({name:"move-diagonal"},()=>a,{get iconNode(){return n},children:(i,l)=>{var o=Y(),s=C(o);ge(s,t,"default",{}),v(i,o)},$$slots:{default:!0}}))}function qt(e,t){const a=pe(t,["children","$$slots","$$events","$$legacy"]),n=[["path",{d:"M5 12h14"}],["path",{d:"M12 5v14"}]];me(e,ce({name:"plus"},()=>a,{get iconNode(){return n},children:(i,l)=>{var o=Y(),s=C(o);ge(s,t,"default",{}),v(i,o)},$$slots:{default:!0}}))}function tr(e,t){const a=pe(t,["children","$$slots","$$events","$$legacy"]),n=[["path",{d:"M4 11a9 9 0 0 1 9 9"}],["path",{d:"M4 4a16 16 0 0 1 16 16"}],["circle",{cx:"5",cy:"19",r:"1"}]];me(e,ce({name:"rss"},()=>a,{get iconNode(){return n},children:(i,l)=>{var o=Y(),s=C(o);ge(s,t,"default",{}),v(i,o)},$$slots:{default:!0}}))}function ar(e,t){const a=pe(t,["children","$$slots","$$events","$$legacy"]),n=[["path",{d:"M14 17H5"}],["path",{d:"M19 7h-9"}],["circle",{cx:"17",cy:"17",r:"3"}],["circle",{cx:"7",cy:"7",r:"3"}]];me(e,ce({name:"settings-2"},()=>a,{get iconNode(){return n},children:(i,l)=>{var o=Y(),s=C(o);ge(s,t,"default",{}),v(i,o)},$$slots:{default:!0}}))}function Jt(e,t){const a=pe(t,["children","$$slots","$$events","$$legacy"]),n=[["path",{d:"M4 10c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h4c1.1 0 2 .9 2 2"}],["path",{d:"M10 16c-1.1 0-2-.9-2-2v-4c0-1.1.9-2 2-2h4c1.1 0 2 .9 2 2"}],["rect",{width:"8",height:"8",x:"14",y:"14",rx:"2"}]];me(e,ce({name:"square-stack"},()=>a,{get iconNode(){return n},children:(i,l)=>{var o=Y(),s=C(o);ge(s,t,"default",{}),v(i,o)},$$slots:{default:!0}}))}function rr(e,t){_t(t,!0);let a=it(t,"ref",15,null),n=aa(t,["$$slots","$$events","$$legacy","ref"]);var i=Y(),l=C(i);oa(l,()=>Za,(o,s)=>{s(o,ce({"data-slot":"aspect-ratio"},()=>n,{get ref(){return a()},set ref(m){a(m)}}))}),v(e,i),xt()}var nr=h('<div class="rounded-xl border border-green-600/20 dark:border-green-500/20 bg-white dark:bg-gray-950/50 p-4 mb-6 relative overflow-hidden shadow-sm dark:shadow-none backdrop-blur-sm"><div class="flex items-center gap-4 relative z-10"><div class="relative flex-shrink-0"><div class="absolute inset-0 bg-green-400/20 dark:bg-green-500/30 blur-2xl rounded-full scale-150"></div> <!></div> <div class="flex-1 text-left"><h2 class="text-lg font-semibold dark:text-white mb-1"><span class="text-green-700 dark:text-green-400">C2PA Verified</span></h2> <p class="text-gray-600 dark:text-gray-400 text-sm leading-relaxed">This means that this image has not been generated by AI, or over edited. <span class="text-gray-900 dark:text-gray-200 font-medium">Human created content only.</span></p></div></div></div>');function ir(e){var t=nr(),a=f(t),n=f(a),i=p(f(n),2);Oa(i,{class:"w-12 h-12 text-green-600 dark:text-green-400 relative",strokeWidth:1}),c(n),se(2),c(a),c(t),v(e,t)}const Yt="0.5.6";let ht=null;const sr={"c2pa.created":{order:1,label:"Creation & Ingestion",icon:Gt},"c2pa.opened":{order:1,label:"Creation & Ingestion",icon:Gt},"c2pa.placed":{order:2,label:"Editorial Content Changes",icon:Vt},"c2pa.edited":{order:2,label:"Editorial Content Changes",icon:Vt},"c2pa.color_adjustments":{order:3,label:"Color & Tone Adjustments",icon:ar},"c2pa.filtered":{order:4,label:"Enhancement (Non-Editorial)",icon:la},"c2pa.metadata":{order:7,label:"Metadata-Only Changes",icon:da},"c2pa.cropped":{order:8,label:"Resizing & Scaling",icon:At},"c2pa.resized":{order:8,label:"Resizing & Scaling",icon:At},"c2pa.orientation":{order:8,label:"Resizing & Scaling",icon:At},"c2pa.converted":{order:9,label:"File / Format Transformations",icon:Jt},"c2pa.transcoded":{order:9,label:"File / Format Transformations",icon:Jt},"c2pa.published":{order:10,label:"Publishing & Distribution",icon:tr},"c2pa.redacted":{order:11,label:"Removal & Redaction",icon:Ht},"c2pa.removed":{order:11,label:"Removal & Redaction",icon:Ht},"c2pa.watermarked":{order:12,label:"Watermarking",icon:Ha}};function ca(e){var a,n;if(!e)return!1;const t=e.digitalSourceType||((a=e.parameters)==null?void 0:a.digitalSourceType)||((n=e.parameters)==null?void 0:n["http://cv.iptc.org/newscodes/digitalsourcetype/"]);if(t){const i=String(t);if(i.includes("trainedAlgorithmicData")||i.includes("compositeWithTrainedAlgorithmicMedia"))return!0}return!1}function or(e){return sr[e]||{order:99,label:"Other Actions",icon:da}}function lr(e){const t=e.parameters;if(!t)return null;if(t["com.adobe.acr"]){const n=t["com.adobe.acr"],i=t["com.adobe.acr.value"];return i?`${n}: ${i}`:n}if(t.ingredients)return`Imported ${t.ingredients.length} asset(s)`;const a=Object.keys(t).filter(n=>n!=="instance_id");return a.length>0?a.join(", "):null}function ua(e){const t=(e==null?void 0:e.manifests)??(e==null?void 0:e.manifests_map)??(e==null?void 0:e.manifestsMap)??{};let a=(e==null?void 0:e.active_manifest)??(e==null?void 0:e.activeManifest)??null;a&&typeof a=="object"&&a.label&&(a=a.label);const n=(e==null?void 0:e.validation_status)??(e==null?void 0:e.validationStatus)??[],i=(e==null?void 0:e.validation_results)??(e==null?void 0:e.validationResults)??null,l=(e==null?void 0:e.validation_state)??(e==null?void 0:e.validationState)??null;return{active_manifest:a,manifests:t,validation_status:n,validation_results:i,validation_state:l}}function Kt(e=""){const t=e.match(/__(\d+)$/);return t?Number(t[1]):0}function dr(e=""){return/^c2pa\.actions(\.[a-z0-9_]+)?(__\d+)?$/i.test(e)}function cr(e){const t=Array.isArray(e==null?void 0:e.actions)?e.actions:[],a=e==null?void 0:e.templates;if(!a)return t;const n=Array.isArray(a)?a:typeof a=="object"?Object.entries(a).map(([i,l])=>({action:i,...l||{}})):[];return n.length?t.map(i=>{const l=i==null?void 0:i.action;if(!l)return i;const o={};for(const m of n){const x=m==null?void 0:m.action;if(!x||x!=="*"&&x!==l)continue;const N=m.templateParameters||m.parameters;Object.assign(o,m),N&&typeof N=="object"&&(o.parameters={...o.parameters||{},...N})}const s={...o,...i};return s.parameters={...o.parameters||{},...(i==null?void 0:i.parameters)||{}},delete s.templateParameters,s}):t}function bt(e=[]){if(!Array.isArray(e)||e.length===0)return{actionsLabels:[],actions:[]};const t=e.filter(l=>dr((l==null?void 0:l.label)||"")).sort((l,o)=>Kt(l.label)-Kt(o.label)),a=[],n=[];for(const l of t){n.push(l.label);const o=(l==null?void 0:l.data)||null,s=cr(o);for(const m of s)a.push(m)}return a.some(l=>l==null?void 0:l.when)&&a.sort((l,o)=>{const s=l!=null&&l.when?Date.parse(l.when):NaN,m=o!=null&&o.when?Date.parse(o.when):NaN;return!Number.isNaN(s)&&!Number.isNaN(m)?s-m:Number.isNaN(s)?Number.isNaN(m)?0:1:-1}),{actionsLabels:n,actions:a}}function Xt(e){var o,s;const{actions:t}=bt((e==null?void 0:e.assertions)||[]);if(!t.length)return!1;const a=t.find(m=>(m==null?void 0:m.action)==="c2pa.created");if(!a)return!1;const n="http://cv.iptc.org/newscodes/digitalsourcetype/",i=a.digitalSourceType||a[n]||((o=a.parameters)==null?void 0:o.digitalSourceType)||((s=a.parameters)==null?void 0:s[n]);if(!i)return!1;const l=String(i);return l.includes("digitalCapture")||l.includes("computationalCapture")}function ur(e){if(!e||typeof e!="string")return null;const t=e.lastIndexOf("c2pa.assertions/");return t===-1?null:e.substring(t+16)}function fr(e){const t=new Map;for(const a of(e==null?void 0:e.ingredients)||[]){const n=a==null?void 0:a.label;n&&t.set(n,a)}return t}function vr(e){var i;const{actions:t}=bt((e==null?void 0:e.assertions)||[]);if(!t.length)return[];const a=fr(e),n=new Set;for(const l of t){const o=(i=l==null?void 0:l.parameters)==null?void 0:i.ingredients;if(Array.isArray(o))for(const s of o){const m=ur(s==null?void 0:s.url);if(!m)continue;const x=a.get(m)||a.get(m.replace(/__(\d+)$/,"")),N=(x==null?void 0:x.active_manifest)||(x==null?void 0:x.activeManifest)||(x==null?void 0:x.manifest_id)||(x==null?void 0:x.manifestId)||null;N&&n.add(N)}}return[...n]}function Zt(e){const t=new Set;for(const a of(e==null?void 0:e.ingredients)||[]){const n=(a==null?void 0:a.active_manifest)||(a==null?void 0:a.activeManifest)||(a==null?void 0:a.manifest_id)||(a==null?void 0:a.manifestId)||null;n&&t.add(n)}for(const a of vr(e))t.add(a);return[...t]}function Qt(e,t){var n,i;const a=(e==null?void 0:e.validation_results)||(e==null?void 0:e.validationResults);return!a||!t?null:(n=a.manifests)!=null&&n[t]?a.manifests[t]:(i=a.manifestResults)!=null&&i[t]?a.manifestResults[t]:t===e.active_manifest&&a.activeManifest?a.activeManifest:null}function ea(e){const t=(e==null?void 0:e.failure)||[],a=(e==null?void 0:e.success)||[],n=t.some(l=>(l.code||"").startsWith("claimSignature.")||(l.code||"").startsWith("assertion.dataHash.")||(l.code||"").startsWith("assertion.hashedURI."));return a.some(l=>(l.code||"")==="claimSignature.validated")&&!n}function pr(e){var Ee,be,oe;if(!e||!e.manifests)return{hasManifest:!1,hasActions:!1};const t=e.active_manifest,a=(Ee=e.manifests)==null?void 0:Ee[t];if(!a)return{hasManifest:!1,hasActions:!1};const n=!0,{actions:i}=bt(a.assertions||[]),l=i.length>0,o=Xt(a);let s=o,m=o?a:null,x=o?t:null;if(!s){const I=Zt(a),Z=new Set([t]);for(;I.length;){const B=I.shift();if(!B||Z.has(B))continue;const ye=(be=e.manifests)==null?void 0:be[B];if(ye){if(Z.add(B),Xt(ye)){s=!0,m=ye,x=B;break}for(const he of Zt(ye))he&&!Z.has(he)&&I.push(he)}}}const N=I=>{var Z,B;return((Z=I==null?void 0:I.signature_info)==null?void 0:Z.common_name)||((B=I==null?void 0:I.signature_info)==null?void 0:B.issuer)||"Unknown"},W=Qt(e,t)||((oe=e.validation_results)==null?void 0:oe.activeManifest),w=ea(W),ue=x?Qt(e,x):null,U=s?x&&ue?ea(ue):o?w:null:null,ae=!((W==null?void 0:W.failure)||[]).some(I=>(I.code||"")==="signingCredential.untrusted");return{hasManifest:n,hasActions:l,hasCaptureProvenance:s,activeIsCapture:o,activeSigner:N(a),captureSigner:m?N(m):null,activeSignatureValidated:w,signatureValidated:w,signingCredentialTrusted:ae,captureSignatureValidated:U,actions:i}}function mr(e){var m;if(!e)return{};const t=ua(e),a=(m=t.manifests)==null?void 0:m[t.active_manifest];if(!a)return{};const n={c2pa_manifest:e};let i=!1;const{actions:l}=bt(a.assertions||[]);for(const x of l)if(ca(x)){i=!0;break}n.has_ai=i;const s=(x=>{var N,W;return(W=(N=a.assertions)==null?void 0:N.find(w=>w.label&&w.label.startsWith(x)))==null?void 0:W.data})("stds.exif")||{};return n.exif_data=s,n.camera=s["tiff:Model"]||s["tiff:Make"]||null,n.lens=s["aux:Lens"]||s["exif:LensModel"]||null,n.focal_length=s["exif:FocalLength"]?String(s["exif:FocalLength"]):null,n.aperture=s["exif:FNumber"]?String(s["exif:FNumber"]):null,n.shutter_speed=s["exif:ExposureTime"]?String(s["exif:ExposureTime"]):null,n.iso=s["exif:IsoSpeedRatings"]?Number(s["exif:IsoSpeedRatings"]):null,n.captured_at=s["exif:DateTimeOriginal"]||s["exif:DateTimeDigitized"]||null,n.flash=s["exif:Flash"]?String(s["exif:Flash"]):null,n.white_balance=s["exif:WhiteBalance"]?String(s["exif:WhiteBalance"]):null,n.exposure_mode=s["exif:ExposureMode"]?String(s["exif:ExposureMode"]):null,n.metering_mode=s["exif:MeteringMode"]?String(s["exif:MeteringMode"]):null,n.gps_lat=s["exif:GPSLatitude"]?Number(s["exif:GPSLatitude"]):null,n.gps_lng=s["exif:GPSLongitude"]?Number(s["exif:GPSLongitude"]):null,n.gps_alt=s["exif:GPSAltitude"]?Number(s["exif:GPSAltitude"]):null,n}async function gr(){if(ht)return ht;try{const a=(await import(`https://cdn.jsdelivr.net/npm/@contentauth/c2pa-web@${Yt}/+esm`)).createC2pa;return ht=await a({wasmSrc:`https://cdn.jsdelivr.net/npm/@contentauth/c2pa-web@${Yt}/dist/resources/c2pa_bg.wasm`}),ht}catch(e){throw console.error("Failed to load C2PA library",e),new Error("Failed to load C2PA library. Please check your internet connection.")}}function hr(e,t){var a;(a=e.target.files)!=null&&a.length&&t(e.target.files)}var _r=h('<!> <span class="sr-only">Close</span>',1),xr=h("<!> <!>",1),br=(e,t)=>e.key==="Enter"&&t(),yr=h('<div class="rounded-md bg-destructive/10 p-4 text-sm text-destructive flex items-center gap-2 animate-in fade-in"><!> </div>'),$r=(e,t,a)=>S(t,r(a),!0),wr=(e,t,a)=>e.key==="Enter"&&S(t,r(a),!0),Cr=h('<div class="absolute rounded-lg inset-0 flex items-center justify-center bg-background/50 backdrop-blur-sm"><!></div>'),kr=h('<div class="absolute top-2 right-2"><div class="bg-destructive text-destructive-foreground p-1.5 rounded-full shadow-sm"><!></div></div>'),Pr=h('<div class="bg-green-500 text-white p-1.5 rounded-full shadow-sm"><!></div>'),Sr=h('<div class="bg-emerald-500 text-white p-1.5 rounded-full shadow-sm" title="Capture provenance found and active manifest validates, but capture-manifest validation is unknown in this viewer"><!></div>'),Ar=h('<div class="bg-blue-500 text-white p-1.5 rounded-full shadow-sm" title="Signed by software (no capture-signed provenance found)"><!></div>'),Mr=h('<div class="bg-amber-500 text-white p-1.5 rounded-full shadow-sm" title="No verified C2PA signature"><!></div>'),Nr=h('<div class="absolute top-2 right-2"><!></div>'),Ur=h(`<div role="button" tabindex="0"><img class="w-full h-full object-cover"/> <!> <div class="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent p-3 pt-8
                    opacity-0 group-hover:opacity-100 transition-opacity"><p class="text-white text-xs truncate font-medium"> </p> <p class="text-white/70 text-[10px]"> </p></div></div>`),Ir=h('<li class="text-sm text-muted-foreground flex items-start gap-2"><span class="mt-1.5 h-1.5 w-1.5 rounded-full bg-primary/50 shrink-0"></span> <span> </span></li>'),Dr=h('<details class="group border rounded-lg bg-card text-card-foreground shadow-sm open:ring-1 open:ring-primary/20"><summary class="flex items-center justify-between p-4 cursor-pointer select-none font-medium hover:bg-muted/50 transition-colors rounded-lg group-open:rounded-b-none"><div class="flex items-center gap-3"><!> </div> <!></summary> <div class="p-4 pt-0 border-t bg-muted/10"><ul class="space-y-2 mt-4"></ul></div></details>'),zr=h('<div class="p-4 border rounded-lg bg-muted/20 text-sm text-muted-foreground text-center">No specific edit actions found in the manifest.</div>'),Tr=h('<div class="mt-8 space-y-4 animate-in fade-in slide-in-from-top-2 bg-muted/30 p-4 rounded-lg"><h3 class="text-lg font-semibold flex items-center gap-2"><!> </h3> <div class="space-y-2"><!> <!></div></div>'),Fr=h('<span class="flex items-center gap-1.5"><!> </span>'),jr=h('<span class="flex items-center gap-1.5"><!> </span>'),Er=h('<span class="flex items-center gap-1.5"><!> </span>'),Rr=h('<p class="text-xs text-muted-foreground pr-8">“Verified Capture” requires a capture-origin record <em>and</em> validated signatures. <br/>Capture (Unverified) means capture data exists, but this viewer can’t independently verify the capture signature.</p>'),Vr=h("<!> Uploading...",1),Or=h('<div class="grid grid-cols-2 md:grid-cols-4 gap-4 animate-in fade-in slide-in-from-bottom-4"></div> <!> <div class="flex flex-col-reverse items-stretch gap-4 pt-6 border-t md:flex-row md:items-center md:justify-between"><div class="flex-1 space-y-1.5"><div class="flex gap-4 text-sm font-medium flex-wrap"><span class="flex items-center gap-1.5"><!> </span> <!> <!> <!></div> <!></div> <!></div>',1),Wr=h('<div role="button" tabindex="0"><input type="file" accept="image/*" multiple class="hidden"/> <div class="flex flex-col items-center gap-4 text-center p-4"><div class="p-3 rounded-full bg-muted"><!></div> <div class="space-y-1"><p class="text-sm font-medium">Drag & drop or click to upload multiple images</p> <p class="text-xs text-muted-foreground">Supports JPEG, PNG, WebP</p></div></div></div> <!> <!>',1),Lr=h('<div class="absolute top-4 right-4 z-10"><!></div> <div class="overflow-y-auto flex-1 p-1"><!> <!></div>',1),Br=h('<div class="fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4"><!></div>');function Gr(e,t){_t(t,!0);let a=it(t,"open",15,!1),n=ve(!1),i=ve(ta([])),l=ve(null),o=ve(null),s=ve(null),m=ve(!1);const x=d=>!!(d!=null&&d.c2pa),N=d=>{var _;return!!((_=d==null?void 0:d.c2pa)!=null&&_.hasManifest)},W=d=>{var _;return N(d)&&((_=d.c2pa)==null?void 0:_.activeSignatureValidated)===!0},w=d=>{var _;return((_=d.c2pa)==null?void 0:_.hasCaptureProvenance)===!0},ue=d=>{var _;return(_=d.c2pa)==null?void 0:_.captureSignatureValidated},U=d=>W(d)&&w(d)&&ue(d)===!0,L=d=>W(d)&&w(d)&&ue(d)==null,ae=d=>W(d)&&!w(d),Ee=d=>{var _;return!N(d)||((_=d.c2pa)==null?void 0:_.activeSignatureValidated)!==!0},be=d=>{var _;return U(d)&&((_=d.c2pa)==null?void 0:_.activeIsCapture)===!1};let oe=X(()=>r(i).filter(U).length),I=X(()=>r(i).filter(L).length),Z=X(()=>r(i).filter(ae).length),B=X(()=>r(i).filter(Ee).length);Sa(()=>{t.supabase.auth.getSession().then(({data:d})=>{console.log("Current Session:",d.session)})});function ye(d){return new Promise((_,j)=>{const M=new Image;M.onload=()=>_({width:M.naturalWidth,height:M.naturalHeight}),M.onerror=j,M.src=d})}async function he(){var k,V;const d=r(oe)+r(I);if(r(m)||d===0)return;const{data:{session:_}}=await t.supabase.auth.getSession();if(!_){S(o,"You must be logged in to upload photos.");return}S(m,!0),S(o,null);const j=r(i).filter(y=>U(y)||L(y));let M=0;for(const y of j)try{y.processing=!0;const{width:Q,height:le}=await ye(y.previewUrl),Oe=mr((k=y.c2pa)==null?void 0:k.data),Qe={width:Q,height:le,title:y.file.name,description:"Uploaded via Web Interface",c2pa_manifest:(V=y.c2pa)==null?void 0:V.data,c2pa_verified:U(y),...Oe},re=new FormData;re.append("file",y.file),re.append("metadata",JSON.stringify(Qe));const{data:We,error:ee}=await t.supabase.functions.invoke("photo-upload",{body:re});if(ee)throw ee;M++}catch(Q){console.error("Upload failed for",y.file.name,Q),y.error="Upload failed"}finally{y.processing=!1}S(m,!1),M===j.length?(S(i,r(i).filter(y=>!U(y)&&!L(y)||y.error),!0),r(i).length===0&&(Re(),t.onUploadComplete&&t.onUploadComplete())):S(o,`Successfully uploaded ${M} of ${j.length} images. Check errors.`)}async function Ne(d){if(a(!0),!d||d.length===0)return;if(S(o,null),d.length>10){S(o,"Please select 10 or fewer images at a time.");return}const _=new Set(r(i).map(k=>`${k.file.name}|${k.file.size}|${k.file.lastModified}`)),j=Array.from(d).filter(k=>{if(!k.type.startsWith("image/"))return!1;const V=`${k.name}|${k.size}|${k.lastModified}`;return _.has(V)?!1:(_.add(V),!0)});if(d.length>0&&j.length===0){S(o,"All selected images are already in the list or are not valid image types.");return}if(j.length===0)return;const M=j.map(k=>({id:Math.random().toString(36).substring(7),file:k,previewUrl:URL.createObjectURL(k),processing:!0,c2pa:null,error:null}));S(i,[...r(i),...M],!0);for(const k of M)await dt(k)}async function dt(d){var _;try{const M=await(await gr()).reader.fromBlob(d.file.type,d.file);let k=null,V={hasManifest:!1};if(M){const Q=await M.manifestStore(),le=ua(Q);V=pr(le)||{hasManifest:!1},V.hasManifest&&(k=Q,console.group(`C2PA Analysis: ${d.file.name}`),console.log("Analysis Result:",V),console.log("Manifest Store (Raw):",Q),console.log("Active Manifest ID:",le.active_manifest),console.log("Active Manifest Data:",(_=le.manifests)==null?void 0:_[le.active_manifest]),console.groupEnd())}const y=r(i).findIndex(Q=>Q.id===d.id);y!==-1&&(r(i)[y].c2pa={...V,data:k},r(i)[y].processing=!1)}catch(j){console.error("Error processing image:",j);const M=r(i).findIndex(k=>k.id===d.id);M!==-1&&(r(i)[M].error="Failed to process",r(i)[M].processing=!1)}}function Ke(d){var _;d.preventDefault(),d.stopPropagation(),S(n,!1),(_=d.dataTransfer.files)!=null&&_.length&&Ne(d.dataTransfer.files)}function Xe(d){d.preventDefault(),S(n,!0)}function ct(){S(n,!1)}function Ze(){var d;(d=r(l))==null||d.click()}function Re(){a(!1)}var ut=Y(),Ve=C(ut);{var ft=d=>{var _=Br(),j=f(_);sa(j,{class:"w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col relative shadow-xl",children:(M,k)=>{var V=Lr(),y=C(V),Q=f(y);ot(Q,{variant:"ghost",size:"icon",class:"h-8 w-8 rounded-full",onclick:Re,children:(re,We)=>{var ee=_r(),R=C(ee);qa(R,{class:"h-4 w-4"}),se(2),v(re,ee)},$$slots:{default:!0}}),c(y);var le=p(y,2),Oe=f(le);La(Oe,{children:(re,We)=>{var ee=xr(),R=C(ee);Ba(R,{children:($e,Le)=>{se();var u=nt("Add Photos");v($e,u)},$$slots:{default:!0}});var Ue=p(R,2);Ga(Ue,{class:"mb-3",children:($e,Le)=>{se();var u=nt("Upload images to verify their C2PA metadata locally in your browser.");v($e,u)},$$slots:{default:!0}}),v(re,ee)},$$slots:{default:!0}});var Qe=p(Oe,2);Wa(Qe,{class:"space-y-6",children:(re,We)=>{var ee=Wr(),R=C(ee);R.__click=Ze,R.__keydown=[br,Ze];var Ue=f(R);Ue.__change=[hr,Ne],ra(Ue,D=>S(l,D),()=>r(l));var $e=p(Ue,2),Le=f($e),u=f(Le);Nt(u,{class:"h-6 w-6 text-muted-foreground"}),c(Le),se(2),c($e),c(R);var b=p(R,2);{var A=D=>{var H=yr(),de=f(H);Wt(de,{class:"h-4 w-4"});var _e=p(de);c(H),E(()=>J(_e,` ${r(o)??""}`)),v(D,H)};P(b,D=>{r(o)&&D(A)})}var z=p(b,2);{var G=D=>{var H=Or(),de=C(H);st(de,21,()=>r(i),$=>$.id,($,g)=>{var T=Ur();T.__click=[$r,s,g],T.__keydown=[wr,s,g];var K=f(T),we=p(K,2);{var tt=F=>{var O=Cr(),De=f(O);Lt(De,{class:"h-8 w-8 animate-spin text-primary"}),c(O),v(F,O)},He=(F,O)=>{{var De=Ce=>{var ze=kr(),ke=f(ze),Pe=f(ke);Wt(Pe,{class:"h-5 w-5"}),c(ke),c(ze),E(()=>je(ke,"title",r(g).error)),v(Ce,ze)},vt=(Ce,ze)=>{{var ke=Pe=>{var Te=Nr(),qe=f(Te);{var at=Se=>{var Ae=Pr(),yt=f(Ae);gt(yt,{class:"h-5 w-5"}),c(Ae),E($t=>je(Ae,"title",$t),[()=>be(r(g))?"Verified (edited, but traceable to capture-signed origin)":"Verified Capture (device/camera signed)"]),v(Se,Ae)},pt=(Se,Ae)=>{{var yt=Je=>{var rt=Sr(),wt=f(rt);gt(wt,{class:"h-5 w-5"}),c(rt),v(Je,rt)},$t=(Je,rt)=>{{var wt=Ye=>{var Fe=Ar(),Ct=f(Fe);Bt(Ct,{class:"h-5 w-5"}),c(Fe),v(Ye,Fe)},ya=Ye=>{var Fe=Mr(),Ct=f(Fe);Ot(Ct,{class:"h-5 w-5"}),c(Fe),v(Ye,Fe)};P(Je,Ye=>{ae(r(g))?Ye(wt):Ye(ya,!1)},rt)}};P(Se,Je=>{L(r(g))?Je(yt):Je($t,!1)},Ae)}};P(qe,Se=>{U(r(g))?Se(at):Se(pt,!1)})}c(Te),v(Pe,Te)};P(Ce,Pe=>{x(r(g))&&Pe(ke)},ze)}};P(F,Ce=>{r(g).error?Ce(De):Ce(vt,!1)},O)}};P(we,F=>{r(g).processing?F(tt):F(He,!1)})}var Ie=p(we,2),ie=f(Ie),xe=f(ie,!0);c(ie);var q=p(ie,2),te=f(q);c(q),c(Ie),c(T),E(F=>{var O;Et(T,1,`relative aspect-square rounded-lg overflow-hidden border bg-muted/30 group cursor-pointer transition-all
                  ${((O=r(s))==null?void 0:O.id)===r(g).id?"ring-2 ring-primary ring-offset-2":"hover:border-primary/50"}`),je(K,"src",r(g).previewUrl),je(K,"alt",r(g).file.name),J(xe,r(g).file.name),J(te,`${F??""} KB`)},[()=>(r(g).file.size/1024).toFixed(0)]),v($,T)}),c(de);var _e=p(de,2);{var Be=$=>{var g=Tr();const T=X(()=>(()=>{const q={};for(const te of r(s).c2pa.actions||[]){let F;ca(te)?F={order:0,label:"AI Edits",icon:la}:F=or(te.action);const O=F.label;q[O]||(q[O]={category:F,actions:[]}),q[O].actions.push(te)}return Object.values(q).sort((te,F)=>te.category.order-F.category.order)})());var K=f(g),we=f(K);er(we,{class:"h-5 w-5"});var tt=p(we);c(K);var He=p(K,2),Ie=f(He);st(Ie,17,()=>r(T),Mt,(q,te)=>{var F=Dr(),O=f(F),De=f(O),vt=f(De);oa(vt,()=>r(te).category.icon,(Te,qe)=>{qe(Te,{class:"h-5 w-5 text-primary"})});var Ce=p(vt);c(De);var ze=p(De,2);Qa(ze,{class:"h-4 w-4 text-muted-foreground transition-transform duration-200 group-open:rotate-180"}),c(O);var ke=p(O,2),Pe=f(ke);st(Pe,21,()=>r(te).actions,Mt,(Te,qe)=>{var at=Ir(),pt=p(f(at),2),Se=f(pt,!0);c(pt),c(at),E(Ae=>J(Se,Ae),[()=>lr(r(qe))||r(qe).action]),v(Te,at)}),c(Pe),c(ke),c(F),E(()=>J(Ce,` ${r(te).category.label??""}`)),v(q,F)});var ie=p(Ie,2);{var xe=q=>{var te=zr();v(q,te)};P(ie,q=>{r(T).length===0&&q(xe)})}c(He),c(g),E(()=>J(tt,` Edits for ${r(s).file.name??""}`)),v($,g)};P(_e,$=>{var g;r(s)&&((g=r(s).c2pa)!=null&&g.hasManifest)&&$(Be)})}var Ge=p(_e,2),fe=f(Ge),ne=f(fe),et=f(ne),Dt=f(et);gt(Dt,{class:"h-4 w-4 text-green-500"});var fa=p(Dt);c(et);var zt=p(et,2);{var va=$=>{var g=Fr(),T=f(g);gt(T,{class:"h-4 w-4 text-emerald-500"});var K=p(T);c(g),E(()=>J(K,` ${r(I)??""} Capture (Unverified)`)),v($,g)};P(zt,$=>{r(I)>0&&$(va)})}var Tt=p(zt,2);{var pa=$=>{var g=jr(),T=f(g);Bt(T,{class:"h-4 w-4 text-blue-500"});var K=p(T);c(g),E(()=>J(K,` ${r(Z)??""} Signed by Software`)),v($,g)};P(Tt,$=>{r(Z)>0&&$(pa)})}var ma=p(Tt,2);{var ga=$=>{var g=Er(),T=f(g);Ot(T,{class:"h-4 w-4 text-amber-500"});var K=p(T);c(g),E(()=>J(K,` ${r(B)??""} Unsigned / Not Verified`)),v($,g)};P(ma,$=>{r(B)>0&&$(ga)})}c(ne);var ha=p(ne,2);{var _a=$=>{var g=Rr();v($,g)};P(ha,$=>{(r(B)>0||r(Z)>0||r(I)>0)&&$(_a)})}c(fe);var xa=p(fe,2);{var ba=$=>{const g=X(()=>r(oe)+r(I));ot($,{onclick:he,get disabled(){return r(m)},class:"w-full md:w-auto",children:(T,K)=>{var we=Y(),tt=C(we);{var He=ie=>{var xe=Vr(),q=C(xe);Lt(q,{class:"mr-2 h-4 w-4 animate-spin"}),se(),v(ie,xe)},Ie=ie=>{var xe=nt();E(()=>J(xe,`Upload ${r(g)??""} ${r(g)===1?"Image":"Images"}`)),v(ie,xe)};P(tt,ie=>{r(m)?ie(He):ie(Ie,!1)})}v(T,we)},$$slots:{default:!0}})};P(xa,$=>{(r(oe)>0||r(I)>0)&&$(ba)})}c(Ge),E(()=>J(fa,` ${r(oe)??""} Verified Capture`)),v(D,H)};P(z,D=>{r(i).length>0&&D(G)})}E(()=>Et(R,1,`relative flex flex-col items-center justify-center w-full h-48 rounded-xl border-2 border-dashed transition-colors cursor-pointer outline-none
            ${r(n)?"border-primary bg-primary/5":"border-muted-foreground/25 hover:border-primary/50 hover:bg-muted/50"}`)),Me("dragover",R,Xe),Me("dragleave",R,ct),Me("drop",R,Ke),v(re,ee)},$$slots:{default:!0}}),c(le),v(M,V)},$$slots:{default:!0}}),c(_),v(d,_)};P(Ve,d=>{a()&&d(ft)})}return v(e,ut),xt({processFiles:Ne})}ia(["click","keydown","change"]);var Hr=h('<div class="fixed inset-0 z-[1000] flex items-center justify-center bg-background/20 backdrop-blur-sm pointer-events-none svelte-19x1v7i"><div class="bg-background/40 backdrop-blur-xl border-2 border-dashed border-primary/50 p-12 rounded-3xl shadow-2xl flex flex-col items-center gap-4 animate-in zoom-in-95 duration-200 ring-1 ring-white/10 svelte-19x1v7i"><div class="p-5 rounded-full bg-primary/10 shadow-inner svelte-19x1v7i"><!></div> <div class="space-y-1 text-center svelte-19x1v7i"><p class="text-3xl font-bold text-primary tracking-tight svelte-19x1v7i">Drop to Add Photos</p> <p class="text-muted-foreground font-medium svelte-19x1v7i">Import and verify your images instantly</p></div></div></div>'),qr=h("<!> <!>",1),Jr=h('<span class="absolute left-full ml-2 top-1/2 -translate-y-1/2 bg-primary text-primary-foreground text-xs px-2 py-1 rounded-md whitespace-nowrap z-50 animate-in fade-in zoom-in-95 duration-200 shadow-md svelte-19x1v7i">Copied to clipboard</span>'),Yr=h("<!> Add Photos",1),Kr=h('<div class="flex flex-col items-center justify-center py-16 text-center border-2 border-dashed rounded-lg border-muted mt-4 svelte-19x1v7i"><div class="bg-muted/30 p-4 rounded-full mb-4 svelte-19x1v7i"><!></div> <h3 class="text-xl font-semibold tracking-tight svelte-19x1v7i">Upload your first photo</h3> <p class="text-muted-foreground max-w-sm mt-2 mb-6 text-sm svelte-19x1v7i">Your gallery is empty. Upload a photo to get started with C2PA verification.</p> <!></div>'),Xr=h('<div class="flex flex-col items-center justify-center py-16 text-center border-2 border-dashed rounded-lg border-muted mt-4 svelte-19x1v7i"><p class="text-muted-foreground svelte-19x1v7i">No photos yet.</p></div>'),Zr=h('<!> <img class="h-full w-full object-cover rounded-sm transition-opacity duration-300 svelte-19x1v7i"/>',1),Qr=h('<a class="group svelte-19x1v7i"><!></a>'),en=h('<span class="flex items-center svelte-19x1v7i"><!> <span class="max-w-0 overflow-hidden whitespace-nowrap transition-all duration-300 ease-out group-hover:max-w-[6rem] init-expand-text svelte-19x1v7i">Add Images</span></span> <span class="sr-only svelte-19x1v7i">Add Images</span>',1),tn=h('<!> <div class="bg-background text-foreground min-h-screen svelte-19x1v7i"><div class="relative svelte-19x1v7i"><main class="relative z-10 container mx-auto max-w-screen-lg px-4 sm:pt-20 pt-8 pb-8 svelte-19x1v7i"><div class="relative z-10 mb-8 svelte-19x1v7i"><div class="flex flex-row items-start gap-4 svelte-19x1v7i"><!> <div class="flex-grow min-w-0 svelte-19x1v7i"><h1 class="text-xl font-bold tracking-tight leading-tight sm:text-3xl svelte-19x1v7i"> </h1> <button class="text-muted-foreground text-sm sm:text-base hover:text-foreground transition-colors relative cursor-pointer svelte-19x1v7i" type="button" title="Click to copy username"> <!></button> <p class="mt-2 max-w-xl text-balance text-sm sm:text-base svelte-19x1v7i"> </p> <div class="mt-3 flex flex-wrap gap-2 svelte-19x1v7i"></div></div></div> <div class="mt-4 flex gap-2 md:absolute md:top-0 md:right-0 md:mt-0 svelte-19x1v7i"><!> <!></div></div> <!> <!> <div class="grid grid-cols-2 gap-2 sm:grid-cols-3 md:gap-4 svelte-19x1v7i"></div></main></div> <!></div> <!>',1);function Nn(e,t){_t(t,!0);let a=ve(!1),n=ve(null),i=ve(!1),l=0;function o(u){var b,A,z;u.preventDefault(),S(i,!1),l=0,(A=(b=u.dataTransfer)==null?void 0:b.files)!=null&&A.length&&((z=r(n))==null||z.processFiles(u.dataTransfer.files))}function s(u){u.preventDefault()}function m(u){var b,A;u.preventDefault(),l++,((A=(b=u.dataTransfer)==null?void 0:b.items)==null?void 0:A.length)>0&&S(i,!0)}function x(u){u.preventDefault(),l--,l===0&&S(i,!1)}function N(u){u&&typeof u.preventDefault=="function"&&u.preventDefault(),console.log("Add Photos clicked, opening dialog..."),S(a,!0)}function W(){Na()}let w=X(()=>t.data.profile),ue=X(()=>t.data.photos),U=X(()=>t.data.canEdit),L=X(()=>r(w).interests.map(u=>u.interest)),ae=ta({});function Ee(u){if(u.storage_key){const{data:b}=t.data.supabase.storage.from("photos").getPublicUrl(u.storage_key);return b.publicUrl}return u.storage_url}let be=ve(!1),oe;function I(){navigator.clipboard.writeText(`@${r(w).username}`),S(be,!0),oe&&clearTimeout(oe),oe=setTimeout(()=>{S(be,!1)},2e3)}var Z=tn();Me("drop",mt,o),Me("dragover",mt,s),Me("dragenter",mt,m),Me("dragleave",mt,x);var B=C(Z);{var ye=u=>{var b=Hr(),A=f(b),z=f(A),G=f(z);Nt(G,{class:"h-12 w-12 text-primary animate-pulse"}),c(z),se(2),c(A),c(b),v(u,b)};P(B,u=>{r(i)&&!r(a)&&u(ye)})}var he=p(B,2),Ne=f(he),dt=f(Ne),Ke=f(dt),Xe=f(Ke),ct=f(Xe);Ua(ct,{class:"h-20 w-20 shrink-0 md:h-32 md:w-32",children:(u,b)=>{var A=qr(),z=C(A);Ia(z,{get src(){return r(w).avatar_url},get alt(){return r(w).display_name}});var G=p(z,2);Da(G,{children:(D,H)=>{Ja(D,{class:"h-12 w-12"})},$$slots:{default:!0}}),v(u,A)},$$slots:{default:!0}});var Ze=p(ct,2),Re=f(Ze),ut=f(Re,!0);c(Re);var Ve=p(Re,2);Ve.__click=I;var ft=f(Ve),d=p(ft);{var _=u=>{var b=Jr();v(u,b)};P(d,u=>{r(be)&&u(_)})}c(Ve);var j=p(Ve,2),M=f(j,!0);c(j);var k=p(j,2);st(k,21,()=>r(L),Mt,(u,b)=>{za(u,{variant:"secondary",children:(A,z)=>{se();var G=nt();E(()=>J(G,r(b))),v(A,G)},$$slots:{default:!0}})}),c(k),c(Ze),c(Xe);var V=p(Xe,2),y=f(V);const Q=X(()=>r(w).display_name||r(w).username),le=X(()=>r(w).bio||`Check out ${r(w).display_name}'s profile on Proof in Bio`);Ra(y,{get title(){return r(Q)},get description(){return r(le)},label:"Share Profile",class:"flex-1 md:flex-none"});var Oe=p(y,2);{var Qe=u=>{ot(u,{get href(){return`/${t.data.profile.username??""}/edit`},class:"flex-1 md:flex-none",children:(b,A)=>{se();var z=nt("Edit Profile");v(b,z)},$$slots:{default:!0}})};P(Oe,u=>{r(U)&&u(Qe)})}c(V),c(Ke);var re=p(Ke,2);ir(re);var We=p(re,2);{var ee=u=>{var b=Y(),A=C(b);{var z=D=>{var H=Kr(),de=f(H),_e=f(de);Nt(_e,{class:"h-10 w-10 text-muted-foreground/60"}),c(de);var Be=p(de,6);ot(Be,{onclick:N,variant:"outline",children:(Ge,fe)=>{var ne=Yr(),et=C(ne);qt(et,{class:"mr-2 h-4 w-4"}),se(),v(Ge,ne)},$$slots:{default:!0}}),c(H),v(D,H)},G=D=>{var H=Xr();v(D,H)};P(A,D=>{r(U)?D(z):D(G,!1)})}v(u,b)};P(We,u=>{r(ue).length===0&&u(ee)})}var R=p(We,2);st(R,23,()=>r(ue),u=>u.id,(u,b)=>{var A=Qr(),z=f(A);sa(z,{class:"overflow-hidden border-0 transition-all rounded-sm py-0 duration-200 ease-in-out group-hover:shadow-lg group-hover:-translate-y-1",children:(G,D)=>{rr(G,{ratio:1,class:"bg-slate-100 dark:bg-slate-800 rounded-sm relative",children:(H,de)=>{var _e=Zr(),Be=C(_e);{var Ge=ne=>{Va(ne,{class:"h-full w-full absolute"})};P(Be,ne=>{ae[r(b).id]||ne(Ge)})}var fe=p(Be,2);E(ne=>{je(fe,"src",ne),je(fe,"alt",r(b).title||"User photo"),na(fe,`opacity: ${ae[r(b).id]?1:0};`)},[()=>Ee(r(b))]),Me("load",fe,()=>ae[r(b).id]=!0),Ma(fe),v(H,_e)},$$slots:{default:!0}})},$$slots:{default:!0}}),c(A),E(()=>je(A,"href",`/${r(w).username}/${r(b).id}`)),v(u,A)}),c(R),c(dt),c(Ne);var Ue=p(Ne,2);{var $e=u=>{ot(u,{style:"z-index: 999",class:"group fixed bottom-6 right-6 h-14 min-w-[3.5rem] rounded-full shadow-2xl transition-all duration-300 ease-out hover:pr-6 hover:pl-4 flex items-center justify-center overflow-hidden init-expand-btn",onclick:N,children:(b,A)=>{var z=en(),G=C(z),D=f(G);qt(D,{class:"h-10 w-10 transition-[margin] duration-300 ease-out group-hover:mr-2 init-expand-icon"}),se(2),c(G),se(2),v(b,z)},$$slots:{default:!0}})};P(Ue,u=>{r(U)&&u($e)})}c(he);var Le=p(he,2);ra(Gr(Le,{get supabase(){return t.data.supabase},onUploadComplete:W,get open(){return r(a)},set open(u){S(a,u,!0)}}),u=>S(n,u,!0),()=>r(n)),E(()=>{J(ut,r(w).display_name||r(w).username),J(ft,`@${r(w).username??""} `),J(M,r(w).bio)}),v(e,Z),xt()}ia(["click"]);export{Nn as component};
