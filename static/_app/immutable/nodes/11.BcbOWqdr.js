import"../chunks/CWj6FrbW.js";import{p as Se,h as ee,l as Te,m as he,b as _,a as i,d as ze,s as a,e as s,f as S,i as n,u as ae,g as T,r,k as E,j as B,t as N}from"../chunks/C2C4OSbN.js";import{s as U}from"../chunks/CaX8zT8B.js";import{i as k}from"../chunks/DMomQ0_j.js";import{e as Ge}from"../chunks/DHZx8vpx.js";import{a as Ie}from"../chunks/BoQiD8qz.js";import{B as R,r as W,a as Le,s as Me}from"../chunks/TSTVjuax.js";import{d as Re,r as We}from"../chunks/DokP9ubG.js";import{b as J}from"../chunks/JRMBvNCq.js";import{b as ye,a as we,A as Pe}from"../chunks/ji_QvPLU.js";import{B as Je}from"../chunks/DCKd2EUB.js";import{C as O}from"../chunks/BgpECmlh.js";import{e as Oe}from"../chunks/Dg3yqAC_.js";import{U as te}from"../chunks/CE9x3AHL.js";import{C as Ye}from"../chunks/ebel88IV.js";function qe(K,e){var x;const w=(x=K.target.files)==null?void 0:x[0];if(w){const A=new FileReader;A.onload=z=>{T(e,z.target.result,!0)},A.readAsDataURL(w)}}var He=_("<!> <!>",1),Ke=_('<p class="mt-2 max-w-xl text-balance"> </p>'),Qe=_('<a target="_blank" rel="noopener noreferrer" class="text-sm text-blue-500 hover:underline mt-1 block"> </a>'),Ve=_('<p class="text-sm text-muted-foreground mt-1"> </p>'),Xe=_('<div class="mt-4 flex flex-wrap justify-center gap-2 md:justify-start"></div>'),Ze=_('<h1 class="text-2xl font-bold tracking-tight sm:text-3xl"> </h1> <p class="text-muted-foreground"> </p> <!> <!> <!> <!>',1),$e=_('<div class="mt-4 md:mt-0 md:absolute md:top-0 md:right-0"><!></div>'),ea=_('<div class="mb-4 p-3 bg-destructive/10 border border-destructive rounded-md text-destructive text-sm"> </div>'),aa=_("<!> <!>",1),ta=_("<!> ",1),ra=_('<h2 class="text-xl font-semibold mb-4">Edit Profile</h2> <!> <form method="POST" action="?/updateProfile" enctype="multipart/form-data"><div class="space-y-4"><div><span class="block text-sm font-medium mb-2">Profile Picture</span> <div class="flex items-center gap-4"><!> <div class="flex-1"><input type="file" id="avatar" name="avatar" accept="image/jpeg,image/jpg,image/png,image/webp" class="hidden"/> <label for="avatar"><!></label> <p class="text-xs text-muted-foreground mt-2">JPG, PNG or WebP. Max 2MB.</p></div></div></div> <div><label for="username" class="block text-sm font-medium mb-1">Username</label> <input type="text" id="username" readonly="" disabled class="w-full px-3 py-2 border rounded-md bg-muted text-muted-foreground cursor-not-allowed"/></div> <div><label for="display_name" class="block text-sm font-medium mb-1">Display Name</label> <input type="text" id="display_name" name="display_name" class="w-full px-3 py-2 border rounded-md bg-background"/></div> <div><label for="bio" class="block text-sm font-medium mb-1">Bio</label> <textarea id="bio" name="bio" rows="3" class="w-full px-3 py-2 border rounded-md bg-background"></textarea></div> <div><label for="website" class="block text-sm font-medium mb-1">Website</label> <input type="url" id="website" name="website" class="w-full px-3 py-2 border rounded-md bg-background"/></div> <div><label for="location" class="block text-sm font-medium mb-1">Location</label> <input type="text" id="location" name="location" class="w-full px-3 py-2 border rounded-md bg-background"/></div> <div><label for="interests" class="block text-sm font-medium mb-1">Interests (comma-separated)</label> <input type="text" id="interests" name="interests" placeholder="Photography, Travel, Nature" class="w-full px-3 py-2 border rounded-md bg-background"/></div></div> <div class="flex gap-2 mt-6"><!> <!></div></form>',1),oa=_('<div class="text-2xl font-bold">0</div> <div class="text-sm text-muted-foreground">Photos</div>',1),sa=_('<div class="text-2xl font-bold">0</div> <div class="text-sm text-muted-foreground">Followers</div>',1),ia=_('<div class="text-2xl font-bold">0</div> <div class="text-sm text-muted-foreground">Following</div>',1),la=_('<div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-8"><!> <!> <!></div>'),da=_('<!> <h3 class="text-xl font-semibold mb-2">No photos yet</h3> <p class="text-muted-foreground mb-4"><!></p> <!>',1),na=_('<div class="bg-background text-foreground min-h-screen"><div class="relative"><div class="absolute top-0 left-0 h-[300px] w-full hidden dark:block"><div class="absolute inset-0 bg-gradient-to-t from-background via-background/70 to-background/30"></div></div> <main class="relative z-10 container mx-auto max-w-screen-lg px-4 pt-20 pb-8"><div class="relative z-10 mb-8 flex flex-col items-center gap-4 text-center md:flex-row md:text-left"><!> <div class="flex-grow"><!></div> <!></div> <!> <!> <!></main></div></div>');function ja(K,e){var de,ne,ve,me,ce,fe;Se(e,!0);let w=ee(!1),x=ee(Te({username:((de=e.data.profile)==null?void 0:de.username)||"",display_name:((ne=e.data.profile)==null?void 0:ne.display_name)||"",bio:((ve=e.data.profile)==null?void 0:ve.bio)||"",website:((me=e.data.profile)==null?void 0:me.website)||"",location:((ce=e.data.profile)==null?void 0:ce.location)||"",interests:((fe=e.data.interests)==null?void 0:fe.join(", "))||""})),A=ee(null);he(()=>{var o;(o=e.form)!=null&&o.success&&T(w,!1)}),he(()=>{var o,c,b,f,u,m;n(w)&&(T(x,{username:((o=e.data.profile)==null?void 0:o.username)||"",display_name:((c=e.data.profile)==null?void 0:c.display_name)||"",bio:((b=e.data.profile)==null?void 0:b.bio)||"",website:((f=e.data.profile)==null?void 0:f.website)||"",location:((u=e.data.profile)==null?void 0:u.location)||"",interests:((m=e.data.interests)==null?void 0:m.join(", "))||""},!0),T(A,null))});var z=na(),re=s(z),oe=a(s(re),2),Q=s(oe),se=s(Q);ye(se,{class:"h-24 w-24 md:h-32 md:w-32",children:(o,c)=>{var b=He(),f=S(b);const u=ae(()=>{var v;return(v=e.data.profile)==null?void 0:v.avatar_url}),m=ae(()=>{var v,P;return((v=e.data.profile)==null?void 0:v.display_name)||((P=e.data.profile)==null?void 0:P.username)});we(f,{get src(){return n(u)},get alt(){return n(m)}});var h=a(f,2);Pe(h,{children:(v,P)=>{te(v,{class:"h-12 w-12"})},$$slots:{default:!0}}),i(o,b)},$$slots:{default:!0}});var V=a(se,2),ke=s(V);{var Ce=o=>{var c=Ze(),b=S(c),f=s(b,!0);r(b);var u=a(b,2),m=s(u);r(u);var h=a(u,2);{var v=d=>{var t=Ke(),g=s(t,!0);r(t),E(()=>U(g,e.data.profile.bio)),i(d,t)};k(h,d=>{var t;(t=e.data.profile)!=null&&t.bio&&d(v)})}var P=a(h,2);{var D=d=>{var t=Qe(),g=s(t,!0);r(t),E(()=>{Me(t,"href",e.data.profile.website),U(g,e.data.profile.website)}),i(d,t)};k(P,d=>{var t;(t=e.data.profile)!=null&&t.website&&d(D)})}var F=a(P,2);{var p=d=>{var t=Ve(),g=s(t,!0);r(t),E(()=>U(g,e.data.profile.location)),i(d,t)};k(F,d=>{var t;(t=e.data.profile)!=null&&t.location&&d(p)})}var j=a(F,2);{var G=d=>{var t=Xe();Ge(t,20,()=>e.data.interests,g=>g,(g,I)=>{Je(g,{variant:"secondary",children:(Y,q)=>{B();var L=N();E(()=>U(L,I)),i(Y,L)},$$slots:{default:!0}})}),r(t),i(d,t)};k(j,d=>{var t;((t=e.data.interests)==null?void 0:t.length)>0&&d(G)})}E(()=>{var d,t,g;U(f,((d=e.data.profile)==null?void 0:d.display_name)||((t=e.data.profile)==null?void 0:t.username)||"User"),U(m,`@${((g=e.data.profile)==null?void 0:g.username)||"username"}`)}),i(o,c)};k(ke,o=>{n(w)||o(Ce)})}r(V);var je=a(V,2);{var Be=o=>{var c=$e(),b=s(c);R(b,{onclick:()=>T(w,!0),children:(f,u)=>{B();var m=N("Edit Profile");i(f,m)},$$slots:{default:!0}}),r(c),i(o,c)};k(je,o=>{!n(w)&&e.data.canEdit&&o(Be)})}r(Q);var ie=a(Q,2);{var Ee=o=>{O(o,{class:"p-6 mb-8",children:(c,b)=>{var f=ra(),u=a(S(f),2);{var m=l=>{var y=ea(),C=s(y,!0);r(y),E(()=>U(C,e.form.error)),i(l,y)};k(u,l=>{var y;(y=e.form)!=null&&y.error&&l(m)})}var h=a(u,2),v=s(h),P=s(v),D=a(s(P),2),F=s(D);ye(F,{class:"h-24 w-24",children:(l,y)=>{var C=aa(),M=S(C);const $=ae(()=>{var H;return n(A)||((H=e.data.profile)==null?void 0:H.avatar_url)});we(M,{get src(){return n($)},alt:"Profile preview"});var De=a(M,2);Pe(De,{children:(H,va)=>{te(H,{class:"h-12 w-12"})},$$slots:{default:!0}}),i(l,C)},$$slots:{default:!0}});var p=a(F,2),j=s(p);j.__change=[qe,A];var G=a(j,2),d=s(G);R(d,{type:"button",variant:"outline",onclick:()=>document.getElementById("avatar").click(),children:(l,y)=>{var C=ta(),M=S(C);Ye(M,{class:"h-4 w-4 mr-2"});var $=a(M);E(()=>U($,` ${n(A)?"Change Photo":"Upload Photo"}`)),i(l,C)},$$slots:{default:!0}}),r(G),B(2),r(p),r(D),r(P);var t=a(P,2),g=a(s(t),2);W(g),r(t);var I=a(t,2),Y=a(s(I),2);W(Y),r(I);var q=a(I,2),L=a(s(q),2);We(L),r(q);var X=a(q,2),ue=a(s(X),2);W(ue),r(X);var Z=a(X,2),_e=a(s(Z),2);W(_e),r(Z);var be=a(Z,2),xe=a(s(be),2);W(xe),r(be),r(v);var pe=a(v,2),ge=s(pe);R(ge,{type:"submit",children:(l,y)=>{B();var C=N("Save Changes");i(l,C)},$$slots:{default:!0}});var Ne=a(ge,2);R(Ne,{type:"button",variant:"secondary",onclick:()=>T(w,!1),children:(l,y)=>{B();var C=N("Cancel");i(l,C)},$$slots:{default:!0}}),r(pe),r(h),Ie(h,l=>{var y;return(y=Oe)==null?void 0:y(l)}),E(()=>Le(g,n(x).username)),J(Y,()=>n(x).display_name,l=>n(x).display_name=l),J(L,()=>n(x).bio,l=>n(x).bio=l),J(ue,()=>n(x).website,l=>n(x).website=l),J(_e,()=>n(x).location,l=>n(x).location=l),J(xe,()=>n(x).interests,l=>n(x).interests=l),i(c,f)},$$slots:{default:!0}})};k(ie,o=>{n(w)&&e.data.canEdit&&o(Ee)})}var le=a(ie,2);{var Ue=o=>{var c=la(),b=s(c);O(b,{class:"p-4 text-center",children:(m,h)=>{var v=oa();B(2),i(m,v)},$$slots:{default:!0}});var f=a(b,2);O(f,{class:"p-4 text-center",children:(m,h)=>{var v=sa();B(2),i(m,v)},$$slots:{default:!0}});var u=a(f,2);O(u,{class:"p-4 text-center",children:(m,h)=>{var v=ia();B(2),i(m,v)},$$slots:{default:!0}}),r(c),i(o,c)};k(le,o=>{!n(w)&&e.data.profile&&o(Ue)})}var Ae=a(le,2);{var Fe=o=>{O(o,{class:"p-12 text-center",children:(c,b)=>{var f=da(),u=S(f);te(u,{class:"h-16 w-16 mx-auto mb-4 text-muted-foreground"});var m=a(u,4),h=s(m);{var v=p=>{var j=N("Start sharing your authentic moments");i(p,j)},P=p=>{var j=N("This user hasn't shared any photos yet");i(p,j)};k(h,p=>{e.data.canEdit?p(v):p(P,!1)})}r(m);var D=a(m,2);{var F=p=>{R(p,{children:(j,G)=>{B();var d=N("Upload Your First Photo");i(j,d)},$$slots:{default:!0}})};k(D,p=>{e.data.canEdit&&p(F)})}i(c,f)},$$slots:{default:!0}})};k(Ae,o=>{n(w)||o(Fe)})}r(oe),r(re),r(z),i(K,z),ze()}Re(["change"]);export{ja as component};
