<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Expressive Robot Scanner</title>
    <!-- Load Tailwind CSS --><script src="https://cdn.tailwindcss.com"></script>
    <!-- Load GSAP --><script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
    
    <style>
        /* Custom styles for the animation elements */
        body {
            font-family: 'Inter', sans-serif;
        }
        /* The container for the whole scene */
        .scene {
            position: relative;
            width: 400px;
            height: 400px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        /* The image to be scanned */
        .scan-image {
            width: 300px;
            height: 300px;
            border-radius: 12px;
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
            object-fit: cover;
        }
        /* The robot character */
        .robot {
            position: absolute;
            width: 80px;
            height: 60px;
            background: linear-gradient(145deg, #e0e0e0, #ffffff);
            border-radius: 50% / 40%;
            box-shadow: 0 5px 15px rgba(0,0,0,0.15), inset 0 -4px 10px rgba(0,0,0,0.05);
            z-index: 10;
            will-change: transform; /* Performance optimization */
            display: flex; /* For positioning eyes */
            justify-content: center;
            align-items: center;
        }
        /* The robot's eyes container */
        .robot-eyes {
            position: absolute;
            display: flex;
            gap: 8px; /* Widen space between eyes */
            top: 22px; /* Adjust vertical position */
        }
        /* Individual robot eye (made larger) */
        .robot-eye-single {
            width: 18px; /* Made bigger */
            height: 18px; /* Made bigger */
            background: #000;
            border-radius: 50%;
            position: relative;
            overflow: hidden;
            box-shadow: 0 0 5px rgba(0,0,0,0.3);
            transform-origin: center center; /* For blinking/squinting */
        }
        /* The blue "iris" or "light" of the eye */
        .robot-eye-single::after {
            content: '';
            position: absolute;
            width: 100%;
            height: 100%;
            background: #00bfff; /* Deep sky blue */
            border-radius: 50%;
            box-shadow: 0 0 8px #00bfff, 0 0 12px #00bfff;
            transform: scale(0.7); /* Make iris slightly smaller */
        }
        /* The little white highlight in the eye */
        .robot-eye-single::before {
            content: '';
            position: absolute;
            width: 6px; /* Made bigger */
            height: 6px; /* Made bigger */
            background: #fff;
            border-radius: 50%;
            top: 4px; /* Adjusted */
            left: 4px; /* Adjusted */
            z-index: 2;
        }
        
        /* --- NEW: Robot Eyebrows --- */
        .robot-eyebrow {
            position: absolute;
            width: 18px;
            height: 3px;
            background: #444;
            border-radius: 1px;
            top: 18px; /* Position above eyes */
            z-index: 15;
            transform-origin: center center;
            opacity: 0; /* Hidden by default */
        }
        .left-eyebrow { left: 24px; }
        .right-eyebrow { right: 24px; }

        /* --- NEW: Robot Cheeks --- */
        .robot-cheek {
            position: absolute;
            width: 12px;
            height: 12px;
            background: #ffb6c1; /* Light pink */
            border-radius: 50%;
            top: 40px;
            opacity: 0; /* Hidden by default */
            filter: blur(2px);
            z-index: 5;
        }
        .left-cheek { left: 15px; }
        .right-cheek { right: 15px; }

        /* The robot's mouth (default "Hmm" state) */
        .robot-mouth {
            position: absolute;
            /* "Hmm, not sure" - small 'o' mouth */
            width: 8px;
            height: 8px;
            background: #444;
            border-radius: 50%;
            top: 45px; /* Adjust vertical position of mouth */
            box-shadow: 0 1px 3px rgba(0,0,0,0.2);
        }

        /* The robot's antenna */
        .robot-antenna {
            position: absolute;
            width: 4px;
            height: 20px;
            background: #b0b0b0;
            left: 50%;
            top: -18px;
            transform: translateX(-50%);
        }
        /* The light on top of the antenna */
        .robot-antenna::after {
            content: '';
            position: absolute;
            width: 8px;
            height: 8px;
            background: #ff4141;
            border-radius: 50%;
            top: -4px;
            left: 50%;
            transform: translateX(-50%);
            box-shadow: 0 0 8px #ff4141;
        }
        /* The scanning line */
        .scanner-line {
            position: absolute;
            width: 300px;
            height: 4px;
            background: #00bfff;
            border-radius: 2px;
            box-shadow: 0 0 15px 3px #00bfff;
            z-index: 5;
            opacity: 0; /* Start hidden */
            will-change: transform, opacity; /* Performance optimization */
        }
    </style>
</head>
<body class="bg-gray-900 text-white min-h-screen flex flex-col items-center justify-center p-4">
    <div class="text-center mb-8">
        <h1 class="text-3xl font-bold mb-2">Expressive Robot Scanner</h1>
        <p class="text-lg text-gray-400">A cute robot performing a security scan.</p>
    </div>
    <!-- The main animation scene --><div class="scene">
        <!-- The image to be scanned --><img src="https://placehold.co/300x300/1a202c/ffffff?text=SECURE%0AFILE" alt="Secure File Placeholder" class="scan-image"
            onerror="this.src='https://placehold.co/300x300/1a202c/ffffff?text=SECURE%0AFILE'">
        
        <!-- The scanning line --><div class="scanner-line"></div>
        <!-- The robot --><div class="robot">
            <div class="robot-antenna"></div>
            <div class="robot-eyes">
                <div class="robot-eye-single left-eye"></div>
                <div class="robot-eye-single right-eye"></div>
            </div>
            <!-- Added eyebrows --><div class="robot-eyebrow left-eyebrow"></div>
            <div class="robot-eyebrow right-eyebrow"></div>
            <!-- Added cheeks for cuteness --><div class="robot-cheek left-cheek"></div>
            <div class="robot-cheek right-cheek"></div>
            <div class="robot-mouth"></div>
        </div>
    </div>
    <script type="module">
        // --- GSAP Animation ---
        
        // 1. Robot "Blinking" Animation (loops independently)
        const blinkTl = gsap.to(".robot-eye-single", {
            scaleY: 0.1,
            duration: 0.1,
            repeat: -1,
            yoyo: true,
            repeatDelay: 3,
            transformOrigin: "center center",
            ease: "power1.inOut",
            paused: true
        });

        // --- NEW: Set initial "Hmm" face state ---
        gsap.set(".robot-mouth", { width: 8, height: 8, borderRadius: '50%', top: '45px' });
        gsap.set(".robot-eyebrow", { opacity: 1 });
        gsap.set(".left-eyebrow", { y: -5, rotation: 10 });
        gsap.set(".right-eyebrow", { y: 2, rotation: -5 });

        // 2. Antenna Light "Blinking" (loops independently)
        gsap.to(".robot-antenna::after", {
            opacity: 0.3,
            duration: 0.7,
            repeat: -1,
            yoyo: true,
            ease: "sine.inOut"
        });

        // 3. Robot "Idle Hover" Animation (this will be the base "Hmm" state)
        gsap.set(".robot", { x: 0, y: -200, rotation: 0 });
        const hoverTl = gsap.timeline({
                repeat: -1,
                yoyo: true,
                ease: "sine.inOut",
                onStart: () => blinkTl.resume(),
                onReverseComplete: () => blinkTl.resume()
            })
            .to(".robot", { y: -215, duration: 1.5 })
            .to(".robot", { rotation: -5, duration: 1.5 }, "<");
        
        hoverTl.play();
        
        // 4. Main Scanning Sequence
        const mainScanTl = gsap.timeline({ 
            repeat: -1, 
            repeatDelay: 0.5,
            onStart: () => {
                hoverTl.pause();
                blinkTl.pause();
                gsap.set(".robot-eye-single", { scaleY: 1 }); 
                // Eyebrows are already in "Hmm" state, no need to reset
            },
            onComplete: () => {
                hoverTl.resume();
            }
        });

        const imageTop = -150;
        const imageBottom = 150;
        const imageLeft = -150;

        mainScanTl
            // --- Robot moves from idle ("Hmm" state) to scan start position ---
            .to(".robot", {
                x: imageLeft - 50,
                y: imageTop,
                rotation: 15,
                duration: 1.2,
                ease: "power2.inOut"
            }, "startScan") // Start robot movement

            // --- EXPRESSION: "Hmm" -> "Discerning" (Detective Look) ---
            // Animate from "Hmm" pose to "Detective" pose
            .to(".left-eyebrow", {
                y: -1, // Slightly up
                rotation: 5, // Tilted
                x: -3, // Separate to the left
                duration: 0.5,
                ease: 'power2.inOut'
            }, "startScan+=0.2") // Start 0.2s into movement
            .to(".right-eyebrow", {
                y: 1, // Slightly down
                rotation: -5, // Tilted opposite
                x: 3, // Separate to the right
                duration: 0.5,
                ease: 'power2.inOut'
            }, "<") // At the same time as the left eyebrow
            // Squint eyes for discerning look, one more squinted
            .to(".left-eye", { scaleY: 0.4, duration: 0.5, ease: 'power2.inOut' }, "<")
            .to(".right-eye", { scaleY: 0.7, duration: 0.5, ease: 'power2.inOut' }, "<")
            // Mouth becomes a small, straight line for concentration
            .to(".robot-mouth", {
                width: 15, height: 3, borderRadius: '2px', top: '48px',
                duration: 0.5, ease: 'power2.inOut'
            }, "<")

            // Scanner line appears at the top of the image
            .set(".scanner-line", {
                x: 0, 
                y: imageTop,
                opacity: 0.8,
                height: "3px",
                width: "300px",
                transformOrigin: "center center"
            }, ">-0.5")

            // Animate the scanner line moving down
            .to(".scanner-line", {
                y: imageBottom,
                duration: 2.5,
                ease: "power1.inOut"
            })
            // Robot follows the scanner line down (maintaining "Discerning" face)
            .to(".robot", {
                y: imageBottom,
                duration: 2.5,
                ease: "power1.inOut"
            }, "<")
            
            // Scanner line pulses and fades
            .to(".scanner-line", {
                opacity: 0,
                height: "15px",
                duration: 0.5,
                ease: "power2.out"
            })

            // --- EXPRESSION: "Very Happy" ---
            // Animate mouth to a "D" smile
            .to(".robot-mouth", {
                width: 25,
                height: 12,
                borderRadius: '2px 2px 10px 10px',
                top: '42px',
                duration: 0.4,
                ease: 'elastic.out(1, 0.7)'
            }, "<")
            // Eyes go wide and happy
            .to(".robot-eye-single", {
                scaleY: 1.2,
                duration: 0.4,
                ease: 'elastic.out(1, 0.7)'
            }, "<")
            // Show the blush cheeks!
            .to(".robot-cheek", {
                opacity: 0.7,
                duration: 0.4,
                ease: 'power2.out'
            }, "<")
            // Hide eyebrows quickly as it becomes happy
            .to(".robot-eyebrow", { opacity: 0, duration: 0.2 }, "<")

            // Robot moves back to the center-top idle position (still happy)
            .to(".robot", {
                x: 0,
                y: -200,
                rotation: 0,
                duration: 1,
                ease: "power2.inOut"
            }, ">+0.2")
            
            // Add a short "happy hover" at the top
            .to(".robot", {
                y: -215,
                duration: 1,
                yoyo: true,
                repeat: 1,
                ease: "sine.inOut"
            })

            // --- EXPRESSION: Reset to "Hmm" (for next loop) ---
            // Reset mouth to 'o'
            .to(".robot-mouth", {
                width: 8,
                height: 8,
                top: '45px',
                borderRadius: '50%',
                duration: 0.5,
                ease: 'power2.inOut'
            }, ">-0.5")
            // Reset eyes
            .to(".robot-eye-single", {
                scaleY: 1,
                duration: 0.5,
                ease: 'power2.inOut'
            }, "<")
            // Hide cheeks
            .to(".robot-cheek", {
                opacity: 0,
                duration: 0.5,
                ease: 'power2.inOut'
            }, "<")
            // Animate eyebrows BACK to "Hmm" state
            .to(".robot-eyebrow", { opacity: 1, duration: 0.5, ease: 'power2.inOut' }, "<")
            .to(".left-eyebrow", { y: -5, rotation: 10, x: 0, duration: 0.5, ease: 'power2.inOut' }, "<")
            .to(".right-eyebrow", { y: 2, rotation: -5, x: 0, duration: 0.5, ease: 'power2.inOut' }, "<");
    </script>
</body>
</html>